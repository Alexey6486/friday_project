{"version":3,"sources":["utils/formFields/formField.module.css","assets/img/user.png","auth/profile/Profile.module.css","auth/registration/Registration.module.css","utils/formFields/formFields.tsx","api/authApi.ts","reducers/loginReducer.ts","utils/formValidation/loginValidation.ts","utils/loading/authLoading/AuthLoading.tsx","auth/login/Login.tsx","reducers/registrationReducer.ts","utils/formValidation/registrationValidation.ts","auth/registration/Registration.tsx","auth/profile/Profile.tsx","reducers/restorePasswordReducer.ts","auth/restorePassword/RestorePassword.tsx","reducers/newPasswordReducer.ts","auth/newPassword/NewPassword.tsx","app/appReducer.ts","utils/loading/appInitLoading/AppInitLoading.tsx","app/App.tsx","store/store.ts","index.tsx","auth/login/Login.module.css","auth/restorePassword/RestorePassword.module.css"],"names":["module","exports","Element","Input","input","meta","props","error","touched","className","s","formFieldError","instance","axios","create","baseURL","withCredentials","authApi","email","password","post","then","res","console","log","data","rememberMe","delete","from","message","resetPasswordToken","authMeAC","isAuth","userProfile","type","errorAC","loadingAC","isLoading","authInitState","_id","name","avatar","publicCardPacksCount","created","updated","isAdmin","verified","token","tokenDeathTime","authMeTC","dispatch","a","response","fieldRequired","value","AuthLoading","Login","useDispatch","authState","useSelector","state","authReducer","useEffect","localStorage","getItem","to","loginFormBlock","loginFormWrap","disabled","loginFormTitle","ReduxLoginForm","onSubmit","loginData","setTimeout","loginFormError","reduxForm","form","handleSubmit","loginForm","loginForm__formGroup","Field","component","placeholder","id","validate","loginForm__info","loginForm__checkboxGroup","htmlFor","initialState","registrationSuccess","registrationReducer","action","makeRegister","registrationFieldsRequired","Registration","useState","registered","store","registrationFormBlock","registrationFormWrap","registrationFormTitle","ReduxRegistrationForm","registrationData","repeatPassword","length","getState","Profile","expirationDate","Date","toLocaleString","profileBlock","profileHeader","profileHeader__title","profileHeader__link","onClick","profileContent","profileContent__left","profileContent__ava","src","alt","dummy_img","profileContent__right","profileContent__userData","restorePasswordInitState","restored","RestorePassword","showPopUp","setShowPopUp","ReduxRestorePasswordForm","restoreData","sr","restorePasswordPopUp","restorePasswordPopUp__content","restorePasswordPopUp__info","SetNewPasswordInitState","passwordIsSet","ReduxSetNewPasswordForm","NewPasswordWithRouter","withRouter","newPassword","newData","match","params","appInitAC","isInit","appInitialState","AppInitLoading","App","appReducer","exact","path","render","rootReducers","combineReducers","formReducer","restorePasswordReducer","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.8c526230.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formFieldError\":\"formField_formFieldError__25yFR\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileBlock\":\"Profile_profileBlock__3KFyZ\",\"profileHeader\":\"Profile_profileHeader__2qRna\",\"profileHeader__link\":\"Profile_profileHeader__link__3Bs5F\",\"profileContent\":\"Profile_profileContent__1mFsd\",\"profileContent__left\":\"Profile_profileContent__left__1jKk7\",\"profileContent__right\":\"Profile_profileContent__right__2WX_D\",\"profileContent__ava\":\"Profile_profileContent__ava__2-jB6\",\"profileContent__userData\":\"Profile_profileContent__userData__2Xm4V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registrationFormBlock\":\"Registration_registrationFormBlock__3gGrc\",\"registrationFormWrap\":\"Registration_registrationFormWrap__2_LLV\",\"registrationFormTitle\":\"Registration_registrationFormTitle__3UPP9\",\"loginForm\":\"Registration_loginForm__RtD9l\",\"loginForm__formGroup\":\"Registration_loginForm__formGroup__2Eq-M\",\"loginForm__checkboxGroup\":\"Registration_loginForm__checkboxGroup__2r9px\",\"loginForm__info\":\"Registration_loginForm__info__ptlRy\"};","import React from \"react\";\r\nimport s from './formField.module.css';\r\n\r\nconst FormField = (Element: string) => ({input, meta, ...props}: any) => {\r\n\r\n    const error = meta.touched && meta.error;\r\n\r\n    return (\r\n        <>\r\n            <Element {...input} {...props}/>\r\n            {\r\n                error &&\r\n                <div className={s.formFieldError}>{meta.error}</div>\r\n            }\r\n        </>\r\n    )\r\n};\r\n\r\nexport const Input = FormField('input');","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    withCredentials: true,\r\n});\r\n\r\nexport type LoginResponseObjectType = {\r\n    _id: string\r\n    email: string\r\n    name: string\r\n    avatar?: string\r\n    publicCardPacksCount: number // количество колод\r\n    created: string\r\n    updated: string\r\n    isAdmin: boolean\r\n    verified: boolean // подтвердил ли почту\r\n    rememberMe: boolean\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\nexport type LogoutResponseObjectType = {\r\n    info: string\r\n    error: string\r\n}\r\nexport type ForgotPasswordResponseObjectType = {\r\n    info: string\r\n    error: string\r\n}\r\n\r\nexport const authApi = {\r\n    registration(email: string, password: string) {\r\n        return instance.post('auth/register', {email, password})\r\n            .then(res => console.log(res.data))\r\n    },\r\n    authMe() {\r\n        return instance\r\n            .post<LoginResponseObjectType>(`auth/me`)\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance\r\n            .post<LoginResponseObjectType>(`auth/login`, {\r\n                email, password, rememberMe\r\n            })\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    logout() {\r\n        return instance\r\n            .delete<LogoutResponseObjectType>(`auth/me`)\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    restorePassword(email: string, from: string, message: string) {\r\n        return instance\r\n            .post<ForgotPasswordResponseObjectType>(`auth/forgot`, {\r\n                email, from, message\r\n            })\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    setNewPassword(password: string, resetPasswordToken: string) {\r\n        return instance\r\n            .post<ForgotPasswordResponseObjectType>(`auth/set-new-password`, {\r\n                password, resetPasswordToken\r\n            })\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n}","import { ThunkAction, ThunkDispatch } from \"redux-thunk\";\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {authApi, LoginResponseObjectType} from \"../api/authApi\";\r\n\r\nconst AUTH_ME = 'AUTH_ME';\r\nconst LOGIN = 'LOGIN';\r\nconst LOGOUT = 'LOGOUT';\r\nconst ERROR = 'ERROR';\r\nconst LOADING = 'LOADING';\r\n\r\nexport type AuthMeACType = {\r\n    type: typeof AUTH_ME\r\n    isAuth: boolean\r\n    userProfile: LoginResponseObjectType\r\n};\r\ntype LoginACType = {\r\n    type: typeof LOGIN\r\n    isAuth: boolean\r\n    userProfile: LoginResponseObjectType\r\n};\r\ntype LogoutACType = {\r\n    type: typeof LOGOUT\r\n    isAuth: boolean\r\n};\r\ntype ErrorACType = {\r\n    type: typeof ERROR\r\n    error: string | null\r\n};\r\ntype LoadingACType = {\r\n    type: typeof LOADING\r\n    isLoading: boolean\r\n};\r\n\r\nexport const authMeAC = (isAuth: boolean, userProfile: LoginResponseObjectType): AuthMeACType => {\r\n    return {\r\n        type: AUTH_ME,\r\n        isAuth,\r\n        userProfile\r\n    }\r\n};\r\nexport const loginAC = (isAuth: boolean, userProfile: LoginResponseObjectType): LoginACType => {\r\n    return {\r\n        type: LOGIN,\r\n        isAuth,\r\n        userProfile\r\n    }\r\n};\r\nexport const logoutAC = (isAuth: boolean): LogoutACType => {\r\n    return {\r\n        type: LOGOUT,\r\n        isAuth,\r\n    }\r\n};\r\nexport const errorAC = (error: string | null): ErrorACType => {\r\n    return {\r\n        type: ERROR,\r\n        error,\r\n    }\r\n};\r\nexport const loadingAC = (isLoading: boolean): LoadingACType => {\r\n    return {\r\n        type: LOADING,\r\n        isLoading,\r\n    }\r\n};\r\n\r\ntype ActionTypes = AuthMeACType | LogoutACType | LoginACType | ErrorACType | LoadingACType;\r\n\r\nexport type AuthStateType = {\r\n    isLoading: boolean\r\n    isAuth: boolean\r\n    error: string | null\r\n    userProfile: LoginResponseObjectType\r\n};\r\n\r\nconst authInitState = {\r\n    isLoading: false,\r\n    isAuth: false,\r\n    error: null,\r\n    userProfile: {\r\n        _id: '',\r\n        email: '',\r\n        name: '',\r\n        avatar: '',\r\n        publicCardPacksCount: 0, // количество колод\r\n        created: '',\r\n        updated: '',\r\n        isAdmin: false,\r\n        verified: false, // подтвердил ли почту\r\n        rememberMe: false,\r\n        token: '',\r\n        tokenDeathTime: 0,\r\n    }\r\n};\r\n\r\nexport const authReducer = (state: AuthStateType = authInitState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case AUTH_ME:\r\n            return {...state, isAuth: action.isAuth, userProfile: action.userProfile};\r\n        case LOGIN:\r\n            return {...state, isAuth: action.isAuth, userProfile: action.userProfile};\r\n        case LOGOUT:\r\n            return {...state, isAuth: action.isAuth};\r\n        case ERROR:\r\n            return {...state, error: action.error};\r\n        case LOADING:\r\n            return {...state, isLoading: action.isLoading};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\ntype ThunkType = ThunkAction<void, AppRootStateType, {}, ActionTypes>;\r\nexport const authMeTC = (): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        const res = await authApi.authMe();\r\n        dispatch(authMeAC(true, res));\r\n    } catch (e) {\r\n        console.log(e.response.data.error)\r\n    }\r\n}\r\nexport const loginTC = (email: string, password: string, rememberMe: boolean): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        const res = await authApi.login(email, password, rememberMe);\r\n        dispatch(loginAC(true, res));\r\n        dispatch(loadingAC(false));\r\n    } catch (e) {\r\n        console.log(e.response.data.error)\r\n        console.log({...e})\r\n        if ( e.response.data.error === \"not valid email/password /ᐠ-ꞈ-ᐟ\\\\\") {\r\n            dispatch(loadingAC(false));\r\n            dispatch(errorAC('Incorrect password or email.'))\r\n            setTimeout(() => {\r\n                dispatch(errorAC(null));\r\n            }, 3000)\r\n        } else {\r\n            dispatch(loadingAC(false));\r\n            dispatch(errorAC(e.response.data.error));\r\n            setTimeout(() => {\r\n                dispatch(errorAC(null));\r\n            }, 3000)\r\n        }\r\n    }\r\n}\r\nexport const logoutTC = (): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        await authApi.logout();\r\n        dispatch(logoutAC(false));\r\n    } catch (e) {\r\n        console.log(e.response.data.error)\r\n    }\r\n}","export const fieldRequired = (value: string) => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return \"Field is required\";\r\n};","import React from \"react\";\r\nimport './AuthLoading.css';\r\n\r\nexport const AuthLoading = () => {\r\n    return (\r\n        <div className=\"auth-loading\">\r\n            <div className=\"auth-loading__inner\">\r\n                <div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {PropsWithChildren, useEffect} from \"react\";\r\nimport s from './Login.module.css';\r\nimport {Input} from \"../../utils/formFields/formFields\";\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {authMeTC, AuthStateType, loginTC} from \"../../reducers/loginReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {fieldRequired} from \"../../utils/formValidation/loginValidation\";\r\nimport {AuthLoading} from \"../../utils/loading/authLoading/AuthLoading\";\r\nimport {InjectedFormProps, reduxForm, Field} from \"redux-form\";\r\n\r\ntype LoginFormType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nexport const Login = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const authState = useSelector<AppRootStateType, AuthStateType>(state => state.authReducer);\r\n    const {isAuth, error, isLoading} = authState;\r\n\r\n    const onSubmit = (loginData: LoginFormType) => {\r\n        dispatch(loginTC(loginData.email, loginData.password, loginData.rememberMe));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('isAuth')) {\r\n            dispatch(authMeTC());\r\n        }\r\n    }, []);\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.loginFormBlock}>\r\n            <div className={isLoading ? `${s.loginFormWrap} ${s.disabled}` : `${s.loginFormWrap}`}>\r\n                <div className={s.loginFormTitle}>Login:</div>\r\n                <ReduxLoginForm onSubmit={onSubmit}/>\r\n                {\r\n                    isLoading &&\r\n                    <AuthLoading/>\r\n                }\r\n            </div>\r\n            {\r\n                error &&\r\n                <div className={s.loginFormError}>\r\n                    {error}\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormType>> = (props: PropsWithChildren<InjectedFormProps<LoginFormType>>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.loginForm}>\r\n            <div className={s.loginForm__formGroup}>\r\n                <Field component={Input} name={'email'} type={'email'} placeholder={'email'} id={'emailLogin'}\r\n                       validate={[fieldRequired]}/>\r\n            </div>\r\n            <div className={s.loginForm__formGroup}>\r\n                <Field component={Input} name={'password'} type={'password'} placeholder={'password'}\r\n                       id={'passwordLogin'} validate={[fieldRequired]}/>\r\n            </div>\r\n            <div className={s.loginForm__info}>\r\n                <NavLink to={'/restorePassword'}>Forgot your password?</NavLink>\r\n            </div>\r\n            <div className={s.loginForm__checkboxGroup}>\r\n                <Field component={Input} name={'rememberMe'} type={'checkbox'} id={'checkboxLogin'}/>\r\n                <label htmlFor=\"checkboxLogin\">Remember Me</label>\r\n            </div>\r\n            <div className={s.loginForm__formGroup}>\r\n                <button>Login</button>\r\n            </div>\r\n            <div className={s.loginForm__info}>\r\n                New user?&nbsp;<NavLink to={'/registration'}>Register now.</NavLink>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst ReduxLoginForm = reduxForm<LoginFormType>({\r\n    form: 'LoginForm'\r\n})(LoginForm);","import {ThunkDispatch} from \"redux-thunk\";\r\nimport {authApi} from \"../api/authApi\";\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {\r\n    actionTypes,\r\n    errorSuccessType,\r\n    registrationInitialStateType,\r\n    makeRegisterType\r\n} from \"../auth/registration/RegistrationTypes\";\r\n\r\nexport const MAKE_REGISTER = 'MAKE-REGISTER';\r\nexport const SET_ERROR = 'SET-ERROR';\r\n\r\n\r\nconst initialState = {\r\n    registrationSuccess: false,\r\n    error: ''\r\n};\r\n\r\nconst registrationReducer = (state: registrationInitialStateType = initialState, action: actionTypes) => {\r\n\r\n    switch (action.type) {\r\n        case MAKE_REGISTER:\r\n            return {\r\n                ...state, email: action.registrationSuccess\r\n            };\r\n        case SET_ERROR:\r\n            return {\r\n                ...state, error: action.error\r\n            };\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n};\r\n\r\nexport default registrationReducer\r\n\r\n// action Creators\r\n\r\nexport const makeRegister = (registrationSuccess: boolean): makeRegisterType => ({\r\n    type: MAKE_REGISTER,\r\n    registrationSuccess,\r\n});\r\n\r\nexport const errorSuccess = (error: string): errorSuccessType => ({\r\n    type: SET_ERROR,\r\n    error\r\n});\r\n\r\n//thunks\r\n\r\nexport const addRegistration = (email: string, password: string) =>\r\n    async (dispatch: ThunkDispatch<AppRootStateType, {}, any>, getState: AppRootStateType) => {\r\n        try {\r\n            const setRegistration = await authApi.registration(email, password);\r\n            dispatch(makeRegister(true))\r\n        } catch (e) {\r\n\r\n            dispatch(errorSuccess(e.response.data.error));\r\n            dispatch(makeRegister(false))\r\n        }\r\n    };\r\n\r\n","export const registrationFieldsRequired = (value: string) => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n\r\n\r\n    return \"Field is required\";\r\n\r\n};\r\n\r\n","import React, {PropsWithChildren, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport {addRegistration} from \"../../reducers/registrationReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../utils/formFields/formFields\";\r\nimport {registrationFieldsRequired} from \"../../utils/formValidation/registrationValidation\";\r\nimport s from \"./Registration.module.css\";\r\n\r\ntype regFormType = {\r\n    email: string\r\n    password: string\r\n    repeatPassword: string\r\n}\r\n\r\nexport const Registration: React.FC = () => {\r\n    const [check, setCheck] = useState(false);\r\n    const dispatch = useDispatch();\r\n    const registered = useSelector<AppRootStateType>(store => store.registrationReducer.registrationSuccess);\r\n\r\n\r\n    const onSubmit = (registrationData: regFormType) => {\r\n        debugger\r\n\r\n        if (registrationData.password === registrationData.repeatPassword &&\r\n            registrationData.password.length >= 7) {\r\n            dispatch(addRegistration(registrationData.email, registrationData.password))\r\n        }\r\n        else {}\r\n    };\r\n\r\n    return (\r\n\r\n        <div className={s.registrationFormBlock}>\r\n            <div className={s.registrationFormWrap}>\r\n            <div className={s.registrationFormTitle}>Registration</div>\r\n\r\n            {\r\n                registered\r\n                    ? <Redirect to={'/login'}/>\r\n                    : <ReduxRegistrationForm onSubmit={onSubmit}/>\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst RegistrationForm: React.FC<InjectedFormProps<regFormType>> =\r\n    (props: PropsWithChildren<InjectedFormProps<regFormType>>) => {\r\n        return (\r\n            <form onSubmit={props.handleSubmit} className={s.loginForm}>\r\n                <div className={s.loginForm__formGroup}>\r\n                    <Field component={Input} type={'email'} placeholder={'email'}\r\n                           validate={[registrationFieldsRequired]}\r\n                           id={'registrationEmail'} name={'email'}/>\r\n                </div>\r\n                <div className={s.loginForm__formGroup}>\r\n                    <Field component={Input} type={'password'}\r\n                           placeholder={'password'} validate={[registrationFieldsRequired]}\r\n                           id={'registrationPassword'} name={'password'}/>\r\n                </div>\r\n                <div className={s.loginForm__formGroup}>\r\n                    <Field component={Input} placeholder={'repeat password'} type={'password'}\r\n                           validate={[registrationFieldsRequired]}\r\n                           id={'registrationRepeatPassword'} name={'repeatPassword'}/>\r\n                </div>\r\n                <div className={s.loginForm__formGroup}>\r\n                    <button>Send</button>\r\n                </div>\r\n                <div className={s.loginForm__info}>\r\n                    Have an account?&nbsp;<NavLink to={'/login'}>Sign in.</NavLink>\r\n                </div>\r\n            </form>\r\n        )\r\n    };\r\n\r\nconst ReduxRegistrationForm = reduxForm<regFormType>({\r\n    form: 'RegistrationForm'\r\n})(RegistrationForm);\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport s from './Profile.module.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {authMeTC, AuthStateType, logoutTC} from \"../../reducers/loginReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport dummy_img from '../../assets/img/user.png';\r\n\r\nexport const Profile = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const authState = useSelector<AppRootStateType, AuthStateType>(state => state.authReducer);\r\n    const {isAuth, userProfile} = authState;\r\n\r\n    const logout = () => {\r\n        dispatch(logoutTC())\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(authMeTC());\r\n    }, [])\r\n\r\n    if (!isAuth) {\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n\r\n    const expirationDate = new Date(userProfile.tokenDeathTime).toLocaleString();\r\n\r\n    return (\r\n        <div className={s.profileBlock}>\r\n            <div className={s.profileHeader}>\r\n                <div className={'container'}>\r\n                    <div className={s.profileHeader__title}>Profile</div>\r\n                    <div className={s.profileHeader__link} onClick={logout}>Logout</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={'container'}>\r\n                <div className={s.profileContent}>\r\n                    <div className={s.profileContent__left}>\r\n                        <div className={s.profileContent__ava}>\r\n                            {\r\n                                userProfile.avatar\r\n                                ? <img src={'userProfile.avatar'} alt={'user ava'}/>\r\n                                : <img src={dummy_img} alt={'user ava'}/>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className={s.profileContent__right}>\r\n                        <div className={s.profileContent__userData}>\r\n                            Name: {userProfile.name}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            User id: {userProfile._id}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Email: {userProfile.email}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Created: {userProfile.created}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Token: {userProfile.token}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Token Death Time: {expirationDate}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Admin: {userProfile.isAdmin ? 'yes' : 'no'}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Cards pack: {userProfile.publicCardPacksCount}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Remember login: {userProfile.rememberMe ? 'yes' : 'no'}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Updated: {userProfile.updated}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Verified: {userProfile.verified ? 'yes' : 'no'}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {authApi} from \"../api/authApi\";\r\nimport {authMeAC} from \"./loginReducer\";\r\n\r\nconst RESTORE_PASSWORD = 'RESTORE_PASSWORD';\r\n\r\ntype RestorePasswordACType = {\r\n    type: typeof RESTORE_PASSWORD\r\n    restored: boolean\r\n};\r\nconst restorePasswordAC = (restored: boolean): RestorePasswordACType => {\r\n    return {\r\n        type: RESTORE_PASSWORD,\r\n        restored,\r\n    }\r\n}\r\n\r\ntype ActionTypes = RestorePasswordACType;\r\n\r\nexport type RestorePasswordStateType = {\r\n    restored: boolean\r\n}\r\nconst restorePasswordInitState: RestorePasswordStateType = {\r\n    restored: false,\r\n}\r\n\r\nexport const restorePasswordReducer = (state: RestorePasswordStateType = restorePasswordInitState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case RESTORE_PASSWORD:\r\n            return {...state, restored: action.restored}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype ThunkType = ThunkAction<void, AppRootStateType, {}, ActionTypes>;\r\nexport const restorePasswordTC = (email: string): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        const message =\r\n            `<div style=\"background-color: lime; padding: 15px\">\r\n                password recovery link: \r\n                <a href=\"http://localhost:3000/set-new-password/$token$\">link</a>\r\n            </div>`\r\n        await authApi.restorePassword(email, 'alexey6486@gmail.com', message);\r\n        dispatch(restorePasswordAC(true));\r\n    } catch (e) {\r\n        console.log(e.response.data.error)\r\n    }\r\n}","import React, {PropsWithChildren, useState} from \"react\";\r\nimport sr from './RestorePassword.module.css';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {restorePasswordTC} from \"../../reducers/restorePasswordReducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport s from \"../login/Login.module.css\";\r\nimport {Input} from \"../../utils/formFields/formFields\";\r\nimport {fieldRequired} from \"../../utils/formValidation/loginValidation\";\r\n\r\ntype RestorePasswordFormType = {\r\n    email: string\r\n}\r\n\r\nexport const RestorePassword = () => {\r\n\r\n    const [showPopUp, setShowPopUp] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = (restoreData: RestorePasswordFormType) => {\r\n        dispatch(restorePasswordTC(restoreData.email));\r\n        setShowPopUp(true);\r\n    }\r\n\r\n    return (\r\n        <div className={s.loginFormBlock}>\r\n            <div className={s.loginFormWrap}>\r\n                <div className={s.loginFormTitle}>Restore password:</div>\r\n                <ReduxRestorePasswordForm onSubmit={onSubmit}/>\r\n            </div>\r\n            {\r\n                showPopUp &&\r\n                <div className={sr.restorePasswordPopUp}>\r\n                    <div className={sr.restorePasswordPopUp__content}>\r\n                        <div className={sr.restorePasswordPopUp__info}>Follow the link that has been sent to your\r\n                            email.\r\n                        </div>\r\n                        <NavLink to={'login'}>OK</NavLink>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nconst RestorePasswordForm: React.FC<InjectedFormProps<RestorePasswordFormType>> = (props: PropsWithChildren<InjectedFormProps<RestorePasswordFormType>>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.loginForm}>\r\n            <div className={s.loginForm__formGroup}>\r\n                <Field component={Input} name={'email'} type={'email'} placeholder={'email'} id={'emailRestore'}\r\n                       validate={[fieldRequired]}/>\r\n            </div>\r\n            <div className={s.loginForm__formGroup}>\r\n                <button>Restore</button>\r\n            </div>\r\n            <div className={s.loginForm__info}>\r\n                Remember password?&nbsp;<NavLink to={'/login'}>Sign in.</NavLink>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst ReduxRestorePasswordForm = reduxForm<RestorePasswordFormType>({\r\n    form: 'RestorePasswordForm'\r\n})(RestorePasswordForm);","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {authApi} from \"../api/authApi\";\r\n\r\nconst SET_NEW_PASSWORD = 'SET_NEW_PASSWORD';\r\n\r\ntype SetNewPasswordACType = {\r\n    type: typeof SET_NEW_PASSWORD\r\n    passwordIsSet: boolean\r\n};\r\n\r\nconst setNewPassword = (passwordIsSet: boolean): SetNewPasswordACType => {\r\n    return {\r\n        type: SET_NEW_PASSWORD,\r\n        passwordIsSet,\r\n    }\r\n};\r\n\r\ntype ActionTypes = SetNewPasswordACType;\r\n\r\nexport type SetNewPasswordStateType = {\r\n    passwordIsSet: boolean\r\n};\r\n\r\nconst SetNewPasswordInitState: SetNewPasswordStateType = {\r\n    passwordIsSet: false,\r\n};\r\n\r\nexport const newPassword = (state: SetNewPasswordStateType = SetNewPasswordInitState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case SET_NEW_PASSWORD:\r\n            return {...state, passwordIsSet: action.passwordIsSet};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\ntype ThunkType = ThunkAction<void, AppRootStateType, {}, ActionTypes>;\r\nexport const setNewPasswordTC = (password: string, resetPasswordToken: string): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        await authApi.setNewPassword(password, resetPasswordToken);\r\n        dispatch(setNewPassword(true));\r\n    } catch (e) {\r\n        console.log(e.response.data.error)\r\n    }\r\n};","import React, {PropsWithChildren} from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport s from \"../login/Login.module.css\";\r\nimport {Input} from \"../../utils/formFields/formFields\";\r\nimport {registrationFieldsRequired} from \"../../utils/formValidation/registrationValidation\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Redirect, RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {SetNewPasswordStateType, setNewPasswordTC} from \"../../reducers/newPasswordReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\n\r\ntype ParamsType = {\r\n    token: string\r\n}\r\ntype PropsType = RouteComponentProps<ParamsType>\r\n\r\ntype SetNewPasswordFormType = {\r\n    password: string\r\n    repeatPassword: string\r\n};\r\n\r\nconst NewPassword = (props: PropsType) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const setNewPasswordState = useSelector<AppRootStateType, SetNewPasswordStateType>(state => state.newPassword);\r\n    const {passwordIsSet} = setNewPasswordState;\r\n\r\n    const onSubmit = (newData: SetNewPasswordFormType) => {\r\n        const token = props.match.params.token;\r\n\r\n        if (newData.password === newData.repeatPassword &&\r\n            newData.password.length >= 7) {\r\n            dispatch(setNewPasswordTC(newData.password, token))\r\n        }\r\n    }\r\n\r\n    if (passwordIsSet) {\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.loginFormBlock}>\r\n            <div className={s.loginFormWrap}>\r\n                <div className={s.loginFormTitle}>New password:</div>\r\n                <ReduxSetNewPasswordForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nconst SetNewPasswordForm: React.FC<InjectedFormProps<SetNewPasswordFormType>> = (props: PropsWithChildren<InjectedFormProps<SetNewPasswordFormType>>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.loginForm}>\r\n            <div className={s.loginForm__formGroup}>\r\n                <Field component={Input} type={'password'}\r\n                       placeholder={'password'} validate={[registrationFieldsRequired]}\r\n                       id={'newPassword'} name={'password'}/>\r\n            </div>\r\n            <div className={s.loginForm__formGroup}>\r\n                <Field component={Input} placeholder={'repeat password'} type={'password'}\r\n                       validate={[registrationFieldsRequired]}\r\n                       id={'newRepeatPassword'} name={'repeatPassword'}/>\r\n            </div>\r\n            <div className={s.loginForm__formGroup}>\r\n                <button>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst ReduxSetNewPasswordForm = reduxForm<SetNewPasswordFormType>({\r\n    form: 'SetNewPasswordForm'\r\n})(SetNewPasswordForm);\r\n\r\nexport const NewPasswordWithRouter = withRouter(NewPassword);","import { ThunkAction, ThunkDispatch } from \"redux-thunk\";\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {authApi} from \"../api/authApi\";\r\nimport {authMeAC, AuthMeACType} from \"../reducers/loginReducer\";\r\n\r\nconst APP_INITIALIZED = 'APP_INITIALIZED';\r\n\r\ntype AppInitACType = {\r\n    type: typeof APP_INITIALIZED\r\n    isInit: boolean\r\n};\r\n\r\nconst appInitAC = (isInit: boolean): AppInitACType => {\r\n    return {\r\n        type: APP_INITIALIZED,\r\n        isInit\r\n    }\r\n};\r\n\r\ntype ActionTypes = AppInitACType | AuthMeACType;\r\n\r\nexport type AppStateType = {\r\n    isInit: boolean\r\n};\r\n\r\nconst appInitialState: AppStateType = {\r\n    isInit: false\r\n};\r\n\r\nexport const appReducer = (state: AppStateType = appInitialState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case APP_INITIALIZED:\r\n            return {...state, isInit: action.isInit};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\ntype ThunkType = ThunkAction<void, AppRootStateType, {}, ActionTypes>;\r\nexport const appInitializedTC = ():ThunkType  => async (dispatch: ThunkDispatch<AppStateType, {}, ActionTypes>) => {\r\n    try {\r\n        const res = await authApi.authMe();\r\n        dispatch(authMeAC(true, res));\r\n        dispatch(appInitAC(true));\r\n    } catch (e) {\r\n        dispatch(appInitAC(true));\r\n        console.log(e.response.data.error)\r\n    }\r\n\r\n}\r\n","import React from \"react\";\r\nimport './AppInitLoading.css';\r\n\r\nexport const AppInitLoading = () => {\r\n    return (\r\n        <div className=\"loadingio-spinner-gear-pzuuy69rnz\">\r\n            <div className=\"ldio-ookrzkze3oj\">\r\n                <div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from \"react\";\r\nimport './App.css';\r\nimport {Login} from \"../auth/login/Login\";\r\nimport {Registration} from \"../auth/registration/Registration\";\r\nimport {Profile} from \"../auth/profile/Profile\";\r\nimport {RestorePassword} from '../auth/restorePassword/RestorePassword';\r\nimport {NewPasswordWithRouter} from \"../auth/newPassword/NewPassword\";\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {appInitializedTC, AppStateType} from \"./appReducer\";\r\nimport {AppInitLoading} from \"../utils/loading/appInitLoading/AppInitLoading\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Route } from 'react-router-dom';\r\n\r\nexport const App = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const appState = useSelector<AppRootStateType, AppStateType>(state => state.appReducer);\r\n    const {isInit} = appState;\r\n\r\n    useEffect(() => {\r\n        dispatch(appInitializedTC());\r\n    }, []);\r\n\r\n    if (!isInit) {\r\n        return <AppInitLoading/>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Route exact path={'friday_project/'} render={() => <Profile/>}/>\r\n            <Route exact path={'friday_project/login'} render={() => <Login/>}/>\r\n            <Route exact path={'friday_project/restorePassword'} render={() => <RestorePassword/>}/>\r\n            <Route exact path={'friday_project/registration'} render={() => <Registration/>}/>\r\n            <Route exact path={'friday_project/set-new-password/:token'} render={() => <NewPasswordWithRouter/>}/>\r\n        </div>\r\n    );\r\n}\r\n","\r\nimport  thunkMiddleware from 'redux-thunk';\r\nimport {authReducer} from \"../reducers/loginReducer\";\r\nimport registrationReducer from \"../reducers/registrationReducer\";\r\nimport {restorePasswordReducer} from \"../reducers/restorePasswordReducer\";\r\nimport {newPassword} from \"../reducers/newPasswordReducer\";\r\nimport {appReducer} from \"../app/appReducer\";\r\nimport { combineReducers, createStore, applyMiddleware } from 'redux';\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nconst rootReducers = combineReducers({\r\n    form: formReducer,\r\n    authReducer,\r\n    registrationReducer,\r\n    restorePasswordReducer,\r\n    newPassword,\r\n    appReducer,\r\n});\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducers>;\r\n\r\nexport const store = createStore(rootReducers, applyMiddleware(thunkMiddleware));","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {App} from './app/App';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport { store } from './store/store';\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </BrowserRouter>\r\n    ,\r\n    document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginFormBlock\":\"Login_loginFormBlock__2IR1v\",\"loginFormWrap\":\"Login_loginFormWrap__12GkF\",\"disabled\":\"Login_disabled__3dyCX\",\"loginFormTitle\":\"Login_loginFormTitle__3hw3_\",\"loginForm\":\"Login_loginForm__2Gq4t\",\"loginForm__formGroup\":\"Login_loginForm__formGroup__3E9dZ\",\"loginForm__checkboxGroup\":\"Login_loginForm__checkboxGroup__3eNue\",\"loginForm__info\":\"Login_loginForm__info__F5dYg\",\"loginFormError\":\"Login_loginFormError__1p2a8\",\"loginErrorAnimation\":\"Login_loginErrorAnimation__9ziVt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"restorePasswordPopUp\":\"RestorePassword_restorePasswordPopUp__UkIgP\",\"restorePasswordPopUp__content\":\"RestorePassword_restorePasswordPopUp__content__2Gp99\",\"restorePopUpAnimation\":\"RestorePassword_restorePopUpAnimation__3bPbn\",\"restorePasswordPopUp__info\":\"RestorePassword_restorePasswordPopUp__info__Yhn_e\"};"],"sourceRoot":""}