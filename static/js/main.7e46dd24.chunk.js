(this.webpackJsonpfriday_project=this.webpackJsonpfriday_project||[]).push([[0],{12:function(e,a,t){e.exports={pagination:"Pagination_pagination__ISsp7",paginationBlock:"Pagination_paginationBlock__3pOBP",paginationBlock__pre_after:"Pagination_paginationBlock__pre_after__2uWs2",active:"Pagination_active__2G2nu",pageBtn:"Pagination_pageBtn__HLkSp",paginationDots:"Pagination_paginationDots__Kqbzr",paginationSelectBlock:"Pagination_paginationSelectBlock__1zavh",paginationSelectBlock__title:"Pagination_paginationSelectBlock__title__24lgm",paginationSelect:"Pagination_paginationSelect__19I-p",open:"Pagination_open__2slTW",paginationSelect__current:"Pagination_paginationSelect__current__2KmYT",paginationSelect__options:"Pagination_paginationSelect__options__3TxA1"}},131:function(e,a){e.exports="data:image/png;base64,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"},159:function(e,a,t){e.exports=t(288)},164:function(e,a,t){},165:function(e,a,t){},18:function(e,a,t){e.exports={profileBlock:"Profile_profileBlock__2hAkn",profileContent:"Profile_profileContent__sSKnn",profileContent__left:"Profile_profileContent__left__2fJmI",profileContent__right:"Profile_profileContent__right__182Xu",profileContent__ava:"Profile_profileContent__ava__4KdR4",profileContent__userData:"Profile_profileContent__userData__1QNRu"}},187:function(e,a,t){},24:function(e,a,t){e.exports={pack:"Pack_pack__tmaeP",pack__row:"Pack_pack__row__K4Xaw",pack__interface:"Pack_pack__interface___ZJs5",pack__btn:"Pack_pack__btn__35241",pack__btn_del:"Pack_pack__btn_del__2V0G5",pack__btn_edit:"Pack_pack__btn_edit__2l5S5",disabled:"Pack_disabled__lRgh1"}},26:function(e,a,t){e.exports={card:"Card_card__15ZqB",card__row:"Card_card__row__2BxvA",card__interface:"Card_card__interface__AUvy1",card__btn:"Card_card__btn__38NsQ",card__btn_del:"Card_card__btn_del__1I9xk",card__btn_edit:"Card_card__btn_edit__2KMkv",disabled:"Card_disabled__3LBy9"}},286:function(e,a,t){},287:function(e,a,t){},288:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(68),o=t.n(c),s=(t(164),t(165),t(7)),i=t.n(s),u=t(133),l=t(70),d=t.n(l),m=function(e){return function(a){var t=a.input,r=a.meta,c=Object(u.a)(a,["input","meta"]),o=r.touched&&r.error;return n.a.createElement(n.a.Fragment,null,n.a.createElement(e,Object.assign({},t,c)),o&&n.a.createElement("div",{className:d.a.formFieldError},r.error))}},p=m("input"),_=m("textarea"),f=t(13),v=t(14),h=t(4),b=t(3),g=t.n(b),k=t(9),E=t(1),P=t(45),C=t.n(P),O=C.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),w=function(e,a){return O.post("auth/register",{email:e,password:a}).then((function(e){return console.log(e.data)}))},j=function(){return O.post("auth/me").then((function(e){return e.data}))},N=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return O.post("auth/login",{email:e,password:a,rememberMe:t}).then((function(e){return e.data}))},A=function(){return O.delete("auth/me").then((function(e){return e.data}))},S=function(e,a,t){return O.post("auth/forgot",{email:e,from:a,message:t}).then((function(e){return e.data}))},y=function(e,a){return O.post("auth/set-new-password",{password:e,resetPasswordToken:a}).then((function(e){return e.data}))},x=function(e,a){return{type:"AUTH_ME",isAuth:e,userProfile:a}},R=function(e){return{type:"ERROR",error:e}},B=function(e){return{type:"LOADING",isLoading:e}},F={isLoading:!1,isAuth:!1,error:null,userProfile:{_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,created:"",updated:"",isAdmin:!1,verified:!1,rememberMe:!1,token:"",tokenDeathTime:0}},T=function(){return function(){var e=Object(k.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:t=e.sent,a(x(!0,t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},G=function(e){if(!e)return"Field is required"},I=function(e){return function(a){return a&&a.length<e?"Password length must be 8 symbols or more.":a&&a.length>=e?void 0:"Field is required."}},D=(t(187),function(){return n.a.createElement("div",{className:"auth-loading"},n.a.createElement("div",{className:"auth-loading__inner"},n.a.createElement("div",null,n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))))}),L=t(126),U=t(127),M=function(){var e=Object(h.c)(),a=Object(h.d)((function(e){return e.authReducer})),t=a.isAuth,c=a.error,o=a.isLoading;return Object(r.useEffect)((function(){localStorage.getItem("isAuth")&&e(T())}),[e]),t?n.a.createElement(f.a,{to:"/"}):n.a.createElement("div",{className:i.a.authFormBlock},n.a.createElement("div",{className:o?"".concat(i.a.authFormWrap," ").concat(i.a.disabled):"".concat(i.a.authFormWrap)},n.a.createElement("div",{className:i.a.authFormTitle},"Login"),n.a.createElement(Y,{onSubmit:function(a){var t,r,n;e((t=a.email,r=a.password,n=a.rememberMe,function(){var e=Object(k.a)(g.a.mark((function e(a){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(B(!0)),e.prev=1,e.next=4,N(t,r,n);case 4:c=e.sent,a({type:"LOGIN",isAuth:!0,userProfile:c}),a(B(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),"not valid email/password /\u1420-\ua788-\u141f\\"===e.t0.response.data.error?(a(B(!1)),a(R("Incorrect password or email.")),setTimeout((function(){a(R(null))}),3e3)):(a(B(!1)),a(R(e.t0.response.data.error)),setTimeout((function(){a(R(null))}),3e3));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}()))}}),o&&n.a.createElement(D,null)),c&&n.a.createElement("div",{className:i.a.authFormError},c))},Y=Object(U.a)({form:"LoginForm"})((function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit,className:i.a.authForm},n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement(L.a,{component:p,name:"email",type:"email",placeholder:"email",id:"emailLogin",validate:[G]})),n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement(L.a,{component:p,name:"password",type:"password",placeholder:"password",id:"passwordLogin",validate:[G]})),n.a.createElement("div",{className:i.a.authForm__info},n.a.createElement(v.b,{to:"/restorePassword"},"Forgot your password?")),n.a.createElement("div",{className:i.a.authForm__checkboxGroup},n.a.createElement(L.a,{component:p,name:"rememberMe",type:"checkbox",id:"checkboxLogin"}),n.a.createElement("label",{htmlFor:"checkboxLogin"},"Remember Me")),n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement("button",null,"Login")),n.a.createElement("div",{className:i.a.authForm__info},"New user?\xa0",n.a.createElement(v.b,{to:"/registration"},"Register now.")))})),H=function(e){return{type:"LOADING",isLoading:e}},q=function(e){return{type:"ERROR",error:e}},W={registrationSuccess:!1,error:null,isLoading:!1},K=function(){var e=Object(h.c)(),a=Object(h.d)((function(e){return e.registrationReducer})),t=a.error,r=a.isLoading;return a.registrationSuccess?n.a.createElement(f.a,{to:"/login"}):n.a.createElement("div",{className:i.a.authFormBlock},n.a.createElement("div",{className:i.a.authFormWrap},n.a.createElement("div",{className:i.a.authFormTitle},"Registration"),n.a.createElement(Q,{onSubmit:function(a){var t,r;a.password===a.repeatPassword?e((t=a.email,r=a.password,function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(H(!0)),e.prev=1,e.next=4,w(t,r);case 4:a({type:"REGISTER",registrationSuccess:!0}),a(H(!1)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),a(q(e.t0.response.data.error)),a(H(!1)),setTimeout((function(){a(q(null))}),3e3);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}())):e(function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(q("Passwords do not match.")),setTimeout((function(){a(q(null))}),3e3);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}}),r&&n.a.createElement(D,null)),t&&n.a.createElement("div",{className:i.a.authFormError},t))},z=I(8),Q=Object(U.a)({form:"RegistrationForm"})((function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit,className:i.a.authForm},n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement(L.a,{component:p,type:"email",placeholder:"email",validate:[G],id:"registrationEmail",name:"email"})),n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement(L.a,{component:p,type:"password",placeholder:"password",validate:[G,z],id:"registrationPassword",name:"password"})),n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement(L.a,{component:p,placeholder:"repeat password",type:"password",validate:[G],id:"registrationRepeatPassword",name:"repeatPassword"})),n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement("button",null,"Send")),n.a.createElement("div",{className:i.a.authForm__info},"Have an account?\xa0",n.a.createElement(v.b,{to:"/login"},"Sign in.")))})),J=t(18),V=t.n(J),Z=t(131),X=t.n(Z),$=function(){var e=Object(h.c)(),a=Object(h.d)((function(e){return e.authReducer})),t=a.isAuth,c=a.userProfile;return Object(r.useEffect)((function(){e(T())}),[e]),t?n.a.createElement("div",{className:V.a.profileBlock},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:V.a.profileContent},n.a.createElement("div",{className:V.a.profileContent__left},n.a.createElement("div",{className:V.a.profileContent__ava},c.avatar?n.a.createElement("img",{src:c.avatar,alt:"user ava"}):n.a.createElement("img",{src:X.a,alt:"user ava"}))),n.a.createElement("div",{className:V.a.profileContent__right},n.a.createElement("div",{className:V.a.profileContent__userData},"Name: ",c.name),n.a.createElement("div",{className:V.a.profileContent__userData},"User id: ",c._id),n.a.createElement("div",{className:V.a.profileContent__userData},"Email: ",c.email),n.a.createElement("div",{className:V.a.profileContent__userData},"Created: ",c.created),n.a.createElement("div",{className:V.a.profileContent__userData},"Admin: ",c.isAdmin?"yes":"no"),n.a.createElement("div",{className:V.a.profileContent__userData},"Cards pack: ",c.publicCardPacksCount),n.a.createElement("div",{className:V.a.profileContent__userData},"Remember login: ",c.rememberMe?"yes":"no"),n.a.createElement("div",{className:V.a.profileContent__userData},"Updated: ",c.updated),n.a.createElement("div",{className:V.a.profileContent__userData},"Verified: ",c.verified?"yes":"no"))))):n.a.createElement(f.a,{to:"/login"})},ee=t(21),ae=t(73),te=t.n(ae),re={restored:!1},ne=function(){var e=Object(r.useState)(!1),a=Object(ee.a)(e,2),t=a[0],c=a[1],o=Object(h.c)();return n.a.createElement("div",{className:i.a.authFormBlock},n.a.createElement("div",{className:i.a.authFormWrap},n.a.createElement("div",{className:i.a.authFormTitle},"Restore password"),n.a.createElement(ce,{onSubmit:function(e){var a;o((a=e.email,function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,S(a,"alexey6486@gmail.com",'<div style="background-color: lime; padding: 15px">\n                password recovery link: \n                <a href="https://alexey6486.github.io/friday_project/#/set-new-password/$token$">link</a>\n            </div>');case 4:t({type:"RESTORE_PASSWORD",restored:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}())),c(!0)}})),t&&n.a.createElement("div",{className:te.a.restorePasswordPopUp},n.a.createElement("div",{className:te.a.restorePasswordPopUp__content},n.a.createElement("div",{className:te.a.restorePasswordPopUp__info},"Follow the link that has been sent to your email."),n.a.createElement(v.b,{to:"/login"},"OK"))))},ce=Object(U.a)({form:"RestorePasswordForm"})((function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit,className:i.a.authForm},n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement(L.a,{component:p,name:"email",type:"email",placeholder:"enter your email address",id:"emailRestore",validate:[G]})),n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement("button",null,"Restore")),n.a.createElement("div",{className:i.a.authForm__info},"Remember password?\xa0",n.a.createElement(v.b,{to:"/login"},"Sign in.")))})),oe=function(e){return{type:"ERROR",error:e}},se=function(e){return{type:"LOADING",isLoading:e}},ie={passwordIsSet:!1,isLoading:!1,error:null},ue=I(8),le=Object(U.a)({form:"SetNewPasswordForm"})((function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit,className:i.a.authForm},n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement(L.a,{component:p,type:"password",placeholder:"password",validate:[G,ue],id:"newPassword",name:"password"})),n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement(L.a,{component:p,placeholder:"repeat password",type:"password",validate:[G],id:"newRepeatPassword",name:"repeatPassword"})),n.a.createElement("div",{className:i.a.authForm__formGroup},n.a.createElement("button",null,"Send")))})),de=Object(f.g)((function(e){var a=Object(h.c)(),t=Object(h.d)((function(e){return e.newPassword})),r=t.passwordIsSet,c=t.isLoading,o=t.error;return r?n.a.createElement(f.a,{to:"/login"}):n.a.createElement("div",{className:i.a.authFormBlock},n.a.createElement("div",{className:i.a.authFormWrap},n.a.createElement("div",{className:i.a.authFormTitle},"New password"),n.a.createElement(le,{onSubmit:function(t){var r,n,c=e.match.params.token;t.password===t.repeatPassword?a((r=t.password,n=c,function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(se(!0)),e.prev=1,e.next=4,y(r,n);case 4:a({type:"SET_NEW_PASSWORD",passwordIsSet:!0}),a(se(!1)),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),a(se(!1)),console.log(e.t0.response.data.error),a(oe(e.t0.response.data.error)),setTimeout((function(){a(oe(null))}),3e3);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}())):a(function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(oe("Passwords do not match.")),setTimeout((function(){a(oe(null))}),3e3);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}}),c&&n.a.createElement(D,null)),o&&n.a.createElement("div",{className:i.a.authFormError},o))})),me=function(e){return{type:"APP_INITIALIZED",isInit:e}},pe={isInit:!1},_e=(t(286),function(){return n.a.createElement("div",{className:"loadingio-spinner-gear-pzuuy69rnz"},n.a.createElement("div",{className:"ldio-ookrzkze3oj"},n.a.createElement("div",null,n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))))}),fe=t(30),ve=t.n(fe),he=Object(f.g)((function(e){var a=Object(h.c)(),t=e.history.location.pathname;return n.a.createElement("div",{className:ve.a.header},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:ve.a.headerNav},n.a.createElement(v.b,{to:"/",className:"/"===t?"".concat(ve.a.headerNav__link," ").concat(ve.a.active):"".concat(ve.a.headerNav__link)},"Profile"),n.a.createElement(v.b,{to:"/packs",className:"/packs"===t?"".concat(ve.a.headerNav__link," ").concat(ve.a.active):"".concat(ve.a.headerNav__link)},"Packs")),n.a.createElement("div",{className:ve.a.header__logout,onClick:function(){a(function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A();case 3:a({type:"LOGOUT",isAuth:!1}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}())}},"Logout")))})),be=t(31),ge=t.n(be),ke=C.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),Ee=function(e){var a="";for(var t in e)a=a.concat("".concat(t,"=").concat(e[t],"&"));return ke.get("cards/pack?".concat(a)).then((function(e){return e.data}))},Pe=function(e){return ke.post("cards/pack",{cardsPack:e}).then((function(e){return e.data}))},Ce=function(e){return ke.put("cards/pack",{cardsPack:e}).then((function(e){return e.data}))},Oe=function(e){return ke.delete("cards/pack?id=".concat(e)).then((function(e){return e.data}))},we=function(e){return{type:"GET_PACKS",payload:e}},je=function(e,a){return{type:"SHOW_MY_PACKS",showMyPacks:e,page:a}},Ne=function(e){return{type:"CHANGE_PORTION",flag:e}},Ae=function(e){return{type:"SET_PORTION",portion:e}},Se=function(e){return{type:"LOADING",isLoading:e}},ye={fromServer:{cardPacks:[],cardPacksTotalCount:0,maxCardsCount:0,minCardsCount:0,page:1,pageCount:5},sortBy:!0,sortParam:"",onlyMyPacks:!1,currentPortion:1,isLoading:!1},xe=function(e){return function(){var a=Object(k.a)(g.a.mark((function a(t){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(Se(!0)),a.prev=1,a.next=4,Ee(e);case 4:r=a.sent,t(we(r)),t(Se(!1)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),t(Se(!1)),console.log(a.t0.response.data.error);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},Re=function(e){return function(){var a=Object(k.a)(g.a.mark((function a(t){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(Se(!0)),a.prev=1,t({type:"SET_CURRENT_PAGE",page:e.page}),a.next=5,Ee(e);case 5:r=a.sent,t(we(r)),t(Se(!1)),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),t(Se(!1)),console.log(a.t0.response.data.error);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},Be=function(e){return function(){var a=Object(k.a)(g.a.mark((function a(t){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{t(Ne(e))}catch(r){console.log(r.response.data.error)}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Fe=function(e){return function(){var a=Object(k.a)(g.a.mark((function a(t){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{t(Ae(e))}catch(r){console.log(r.response.data.error)}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Te=t(95),Ge=t.n(Te),Ie=function(e){var a=e.sortDirection,t=e.onlyMyPacks,r=e.sortRegular,c=e.sortCheck,o=n.a.createElement("div",{className:Ge.a.sortCheck},n.a.createElement("input",{type:"checkbox",id:"radioMyPacks",checked:t,onChange:c}),n.a.createElement("label",{htmlFor:"radioMyPacks"},"only my packs")),s=n.a.createElement("button",{className:Ge.a.sortBtn,onClick:function(){return r(a)}},a),i="user_id"===a?o:s;return n.a.createElement(n.a.Fragment,null,i)},De=t(24),Le=t.n(De),Ue=function(e){var a=Object(h.c)(),t=Object(h.d)((function(e){return e.packsReducer})),r=t.fromServer,c=t.onlyMyPacks,o=Object(h.d)((function(e){return e.authReducer})).userProfile,s=e.name,i=e.cardsCount,u=e.created,l=e._id,d=e.user_id,m=e.toggleEditPackPopUp,p=function(e){var t=c?"".concat(o._id):"";a(function(e,a){return function(){var t=Object(k.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Se(!0)),t.prev=1,t.next=4,Oe(a);case 4:return t.next=6,Ee(e);case 6:n=t.sent,r(we(n)),r(Se(!1)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),r(Se(!1)),console.log(t.t0.response.data.error);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}({page:r.page,pageCount:r.pageCount,user_id:t},e))},_=o._id===d?"".concat(Le.a.pack__btn," ").concat(Le.a.pack__btn_del):"".concat(Le.a.pack__btn," ").concat(Le.a.disabled),f=o._id===d?"".concat(Le.a.pack__btn," ").concat(Le.a.pack__btn_edit):"".concat(Le.a.pack__btn," ").concat(Le.a.disabled);return n.a.createElement("div",{className:Le.a.pack},n.a.createElement("div",{className:Le.a.pack__row},n.a.createElement("div",null,s),n.a.createElement("div",null,i),n.a.createElement("div",null,u)),n.a.createElement("div",{className:Le.a.pack__interface},n.a.createElement(v.b,{className:Le.a.pack__btn,to:"/cards/".concat(l)},"Open"),n.a.createElement("button",{className:f,onClick:function(){m(l)}},"Edit"),n.a.createElement("button",{className:_,onClick:function(){return p(l)}},"Delete")))},Me=t(49),Ye=t.n(Me),He=function(e){var a=e.toggleCreatePackPopUp,t=Object(h.c)(),r=Object(h.d)((function(e){return e.packsReducer})),c=r.fromServer,o=r.onlyMyPacks,s=Object(h.d)((function(e){return e.authReducer})).userProfile;return n.a.createElement("div",{className:Ye.a.createPack},n.a.createElement("div",{className:Ye.a.createPack__formWrap},n.a.createElement("div",{className:Ye.a.close,onClick:function(){a()}}),n.a.createElement(qe,{onSubmit:function(e){var r,n,i=o?"".concat(s._id):"";t((r={page:c.page,pageCount:c.pageCount,user_id:i},n={name:e.name,private:e.private=!1},function(){var e=Object(k.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Se(!0)),e.prev=1,e.next=4,Pe(n);case 4:return e.next=6,Ee(r);case 6:t=e.sent,a(we(t)),a(Se(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a(Se(!1)),console.log(e.t0.response.data.error);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}())),a()}})))},qe=Object(U.a)({form:"AddPackForm"})((function(e){return n.a.createElement("form",{className:Ye.a.createPack__form,onSubmit:e.handleSubmit},n.a.createElement("div",{className:Ye.a.createPack__formGroup},n.a.createElement(L.a,{component:p,type:"text",name:"name",placeholder:"pack name",validate:[G]})),n.a.createElement("div",{className:d.a.checkboxGroup},n.a.createElement(L.a,{component:p,type:"checkbox",name:"private",id:"checkboxAddPack"}),n.a.createElement("label",{htmlFor:"checkboxAddPack"},"Private")),n.a.createElement("button",null,"Create"))})),We=t(50),Ke=t.n(We),ze=function(e){var a=e.toggleEditPackPopUp,t=e.id,r=Object(h.c)(),c=Object(h.d)((function(e){return e.packsReducer})),o=c.fromServer,s=c.onlyMyPacks,i=Object(h.d)((function(e){return e.authReducer})).userProfile;return n.a.createElement("div",{className:Ke.a.editPack},n.a.createElement("div",{className:Ke.a.editPack__formWrap},n.a.createElement("div",{className:Ke.a.close,onClick:function(){a("")}}),n.a.createElement(Qe,{onSubmit:function(e){var n,c,u=s?"".concat(i._id):"";r((n={page:o.page,pageCount:o.pageCount,user_id:u},c={_id:t,name:e.name},function(){var e=Object(k.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Se(!0)),e.prev=1,e.next=4,Ce(c);case 4:return e.next=6,Ee(n);case 6:t=e.sent,a(we(t)),a(Se(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a(Se(!1)),console.log(e.t0.response.data.error);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}())),a("")}})))},Qe=Object(U.a)({form:"EditPackForm"})((function(e){return n.a.createElement("form",{className:Ke.a.editPack__form,onSubmit:e.handleSubmit},n.a.createElement("div",{className:Ke.a.editPack__formGroup},n.a.createElement(L.a,{component:p,type:"text",name:"name",placeholder:"new pack name",value:"test",validate:[G]})),n.a.createElement("button",null,"Save"))})),Je=t(32),Ve=t.n(Je),Ze=function(e){var a=e.searchBy,t=e.onSearchSubmit;return n.a.createElement("div",{className:Ve.a.searchBlock},n.a.createElement(Xe,{onSubmit:function(e){e&&t(e)},searchBy:a}))},Xe=Object(U.a)({form:"SearchForm"})((function(e){var a=e.searchBy,t=Object(r.useState)(!1),c=Object(ee.a)(t,2),o=c[0],s=c[1],i=Object(r.useState)(a[0]),u=Object(ee.a)(i,2),l=u[0],d=u[1],m=a.map((function(e,a){return n.a.createElement("div",{key:a,onClick:function(){return d(e),void s((function(e){return!e}))}},e)}));return n.a.createElement("form",{onSubmit:e.handleSubmit},n.a.createElement("div",{className:Ve.a.searchFieldGroup},n.a.createElement(L.a,{component:p,type:"text",name:"".concat(l),placeholder:"search by ".concat(l)}),n.a.createElement("div",{className:o?"".concat(Ve.a.searchOptions," ").concat(Ve.a.open):"".concat(Ve.a.searchOptions)},m)),n.a.createElement("div",{className:o?"".concat(Ve.a.searchOptionsBtn," ").concat(Ve.a.open):"".concat(Ve.a.searchOptionsBtn),onClick:function(){return s((function(e){return!e}))}}),n.a.createElement("button",null,"Search"))})),$e=t(12),ea=t.n($e),aa=function(e){for(var a=e.currentPage,t=e.itemsOnPage,c=e.onPageChange,o=e.pagesInPortion,s=e.totalItems,i=e.onShowByChange,u=e.onPortionChange,l=e.currentPortion,d=e.setPortionChange,m=Math.ceil(s/t),p=Math.ceil(m/o),_=[],f=1;f<=m;f++)_.push(f);var v=(l-1)*o+1,h=l*o,b=_.filter((function(e){return e>=v&&e<=h})).map((function(e){return n.a.createElement("button",{key:e,onClick:function(){c(e)},className:e===a?"".concat(ea.a.active," + ").concat(ea.a.pageBtn):ea.a.pageBtn},e)})),g=_.map((function(e){return e===_.length?n.a.createElement("div",{key:e,className:ea.a.paginationBlock__pre_after},n.a.createElement("div",{className:ea.a.paginationDots},"..."),n.a.createElement("button",{onClick:function(){return function(e){c(e),d(p)}(e)},className:e===a?"".concat(ea.a.active," + ").concat(ea.a.pageBtn):ea.a.pageBtn},e)):null})),k=_.map((function(e){return 1===e?n.a.createElement("div",{key:e,className:ea.a.paginationBlock__pre_after},n.a.createElement("button",{onClick:function(){return function(e){c(e),d(1)}(e)},className:e===a?"".concat(ea.a.active," + ").concat(ea.a.pageBtn):ea.a.pageBtn},e),n.a.createElement("div",{className:ea.a.paginationDots},"...")):null})),E=Object(r.useState)(!1),P=Object(ee.a)(E,2),C=P[0],O=P[1],w=function(e){i(e)};return n.a.createElement("div",{className:ea.a.pagination},n.a.createElement("div",{className:ea.a.paginationBlock},l>1&&n.a.createElement("button",{onClick:function(){u(!1)}},"prev"),l>1&&k,b,l<p&&g,l<p&&n.a.createElement("button",{onClick:function(){u(!0)}},"next")),n.a.createElement("div",{className:ea.a.paginationSelectBlock},n.a.createElement("div",{className:ea.a.paginationSelectBlock__title},"Show by:"),n.a.createElement("div",{className:C?"".concat(ea.a.paginationSelect," ").concat(ea.a.open):"".concat(ea.a.paginationSelect),onClick:function(){O(!C)}},n.a.createElement("div",{className:ea.a.paginationSelect__current},t),n.a.createElement("div",{className:C?"".concat(ea.a.paginationSelect__options," ").concat(ea.a.open):"".concat(ea.a.paginationSelect__options)},n.a.createElement("div",{onClick:function(){return w(5)}},"5"),n.a.createElement("div",{onClick:function(){return w(10)}},"10"),n.a.createElement("div",{onClick:function(){return w(15)}},"15"),n.a.createElement("div",{onClick:function(){return w(20)}},"20")))))},ta=(t(287),function(){return n.a.createElement("div",{className:"packs-loading"},n.a.createElement("div",{className:"packs-loading__inner"},n.a.createElement("div",null,n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))))}),ra=t(16),na=n.a.memo((function(){var e=Object(h.c)(),a=Object(h.d)((function(e){return e.packsReducer})),t=a.fromServer,c=a.sortBy,o=a.onlyMyPacks,s=a.currentPortion,i=a.isLoading,u=a.sortParam,l=Object(h.d)((function(e){return e.authReducer})).userProfile,d=Object(r.useState)(!1),m=Object(ee.a)(d,2),p=m[0],_=m[1],f=Object(r.useState)(""),v=Object(ee.a)(f,2),b=v[0],E=v[1],P=Object(r.useCallback)((function(){_((function(e){return!e}))}),[]),C=Object(r.useCallback)((function(e){E(e)}),[]),O=Object(r.useCallback)((function(a){var r,n=o?"".concat(l._id):"",s=c?"1".concat(a):"0".concat(a);e((r={page:t.page,pageCount:t.pageCount,sortPacks:"".concat(s),user_id:n},function(){var e=Object(k.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Se(!0)),e.prev=1,a({type:"SORT"}),r.sortPacks&&a({type:"SET_SORT_PARAM",sortParam:r.sortPacks}),e.next=6,Ee(r);case 6:t=e.sent,a(we(t)),a(Se(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a(Se(!1)),console.log(e.t0.response.data.error);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}()))}),[e,o,c,t.pageCount,t.page,l._id]),w=Object(r.useCallback)((function(){var a,r,n=o?"":"".concat(l._id);e((a={page:1,pageCount:t.pageCount,user_id:n},r=!o,function(){var e=Object(k.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Se(!0)),e.prev=1,t(je(r,a.page)),e.next=5,Ee(a);case 5:n=e.sent,t(we(n)),t(Se(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t(Se(!1)),console.log(e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}())),e(Fe(1))}),[e,o,t.pageCount,l._id]),j=Object(r.useCallback)((function(a){var r=o?"".concat(l._id):"",n=t.pageCount;e(Re(r?{page:a,pageCount:n,sortPacks:u,user_id:r}:{page:a,pageCount:n,sortPacks:u}))}),[e,o,t.pageCount,l._id,u]),N=Object(r.useCallback)((function(a){var r,n=o?"".concat(l._id):"",c=t.page;e((r={page:c,pageCount:a,sortPacks:u,user_id:n},function(){var e=Object(k.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Se(!0)),e.prev=1,a({type:"SET_SHOW_BY",pageCount:r.pageCount}),e.next=5,Ee(r);case 5:t=e.sent,a(we(t)),a(Se(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),a(Se(!1)),console.log(e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}()))}),[e,o,t.page,l._id,u]),A=Object(r.useCallback)((function(a){e(Be(!!a))}),[e]),S=Object(r.useCallback)((function(a){e(Fe(a))}),[e]);Object(r.useEffect)((function(){var a=t.page,r=t.pageCount;e(xe({page:a,pageCount:r,sortParam:u}))}),[]);var y=t.cardPacks.map((function(e){return n.a.createElement(Ue,Object.assign({key:e._id},e,{toggleEditPackPopUp:C}))})),x=["name","cardsCount","created","user_id"].map((function(e,a){return n.a.createElement(Ie,{key:a,sortDirection:e,onlyMyPacks:o,sortCheck:w,sortRegular:O})}));return n.a.createElement("div",{className:ge.a.packs},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:ge.a.packs__interface},n.a.createElement("button",{className:ge.a.packs__btn,onClick:P},"add new pack"),n.a.createElement(Ze,{searchBy:["packName"],onSearchSubmit:function(a){a.packName?(e(xe({page:t.page,pageCount:t.pageCount,packName:a.packName})),e(Object(ra.a)("SearchForm"))):(e(xe({page:t.page,pageCount:t.pageCount})),e(Object(ra.a)("SearchForm")))}}),n.a.createElement("div",{className:ge.a.packs__sortBlock},n.a.createElement("div",{className:ge.a.packs__sortTitle},"Sort by:"),n.a.createElement("div",{className:ge.a.packs__sortBtns},x))),n.a.createElement("div",{className:ge.a.packsTable},n.a.createElement("div",{className:ge.a.packsTable__header},n.a.createElement("div",null,"Pack name"),n.a.createElement("div",null,"Cards"),n.a.createElement("div",null,"Created")),i?n.a.createElement(ta,null):y),n.a.createElement(aa,{currentPage:t.page,itemsOnPage:t.pageCount,onPageChange:j,pagesInPortion:5,totalItems:t.cardPacksTotalCount,onShowByChange:N,onPortionChange:A,currentPortion:s,setPortionChange:S})),p&&n.a.createElement(He,{toggleCreatePackPopUp:P}),b&&n.a.createElement(ze,{toggleEditPackPopUp:C,id:b}))})),ca=t(33),oa=t.n(ca),sa=C.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),ia=function(e){var a="";for(var t in e)a=a.concat("".concat(t,"=").concat(e[t],"&"));return sa.get("cards/card?".concat(a)).then((function(e){return e.data}))},ua=function(e){return sa.post("cards/card",{card:e}).then((function(e){return e.data}))},la=function(e){return sa.put("cards/card",{card:e}).then((function(e){return e.data}))},da=function(e){return sa.delete("cards/card?id=".concat(e)).then((function(e){return e.data}))},ma=function(e){return{type:"LOADING",isLoading:e}},pa=function(e){return{type:"GET_CARDS",payload:e}},_a=function(e){return{type:"SET_CURRENT_CARDS_PAGE",page:e}},fa=function(e){return{type:"CHANGE_CARDS_PORTION",flag:e}},va=function(e){return{type:"SET_CARDS_PORTION",portion:e}},ha={fromCardsServer:{cards:[],cardsTotalCount:0,maxGrade:0,minGrade:0,page:1,pageCount:5},sortBy:!0,sortParam:"",currentPortion:1,isLoading:!1,isYourPack:!1},ba=function(e){return function(){var a=Object(k.a)(g.a.mark((function a(t){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(ma(!0)),a.prev=1,a.next=4,ia(e);case 4:r=a.sent,t(pa(r)),t(ma(!1)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),t(ma(!1)),console.log(a.t0.response.data.error);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},ga=function(e){return function(){var a=Object(k.a)(g.a.mark((function a(t){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{t(fa(e))}catch(r){console.log(r.response.data.error)}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ka=function(e){return function(){var a=Object(k.a)(g.a.mark((function a(t){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{t(va(e))}catch(r){console.log(r.response.data.error)}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ea=t(26),Pa=t.n(Ea),Ca=function(e){var a=Object(h.c)(),t=Object(h.d)((function(e){return e.cardsReducer})).fromCardsServer,r=e.answer,c=e.created,o=e.question,s=e.checkIfPackIsYours,i=e.toggleEditPackPopUp,u=e.id,l=e.cardsPack_id,d=s>0?"".concat(Pa.a.card__btn," ").concat(Pa.a.card__btn_del):"".concat(Pa.a.card__btn," ").concat(Pa.a.disabled),m=s>0?"".concat(Pa.a.card__btn," ").concat(Pa.a.card__btn_edit):"".concat(Pa.a.card__btn," ").concat(Pa.a.disabled);return n.a.createElement("div",{className:Pa.a.card},n.a.createElement("div",{className:Pa.a.card__row},n.a.createElement("div",null,o),n.a.createElement("div",null,r),n.a.createElement("div",null,c)),n.a.createElement("div",{className:Pa.a.card__interface},n.a.createElement("button",{className:m,onClick:function(){i(u)}},"Edit"),n.a.createElement("button",{className:d,onClick:function(){a(function(e,a){return function(){var t=Object(k.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(ma(!0)),t.prev=1,t.next=4,da(a);case 4:return t.next=6,ia(e);case 6:n=t.sent,r(pa(n)),r(ma(!1)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),r(ma(!1)),console.log(t.t0.response.data.error);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}({page:t.page,pageCount:t.pageCount,cardsPack_id:l},u))}},"Delete")))},Oa=t(42),wa=t.n(Oa),ja=function(e){var a=e.toggleCreatePackPopUp,t=e.cardsPack_id,r=Object(h.c)(),c=Object(h.d)((function(e){return e.cardsReducer})).fromCardsServer;return n.a.createElement("div",{className:wa.a.createCard},n.a.createElement("div",{className:wa.a.createCard__formWrap},n.a.createElement("div",{className:wa.a.close,onClick:function(){a()}}),n.a.createElement(Na,{onSubmit:function(e){var n,o;r((n={page:c.page,pageCount:c.pageCount,cardsPack_id:t},o={cardsPack_id:t,question:e.question,answer:e.answer},function(){var e=Object(k.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(ma(!0)),e.prev=1,e.next=4,ua(o);case 4:return e.next=6,ia(n);case 6:t=e.sent,a(pa(t)),a(ma(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a(ma(!1)),console.log(e.t0.response.data.error);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}())),a()}})))},Na=Object(U.a)({form:"AddCardForm"})((function(e){return n.a.createElement("form",{className:wa.a.createCard__form,onSubmit:e.handleSubmit},n.a.createElement("div",{className:wa.a.createCard__formGroup},n.a.createElement(L.a,{component:p,type:"text",name:"question",placeholder:"question",validate:[G]})),n.a.createElement("div",{className:wa.a.createCard__formGroup},n.a.createElement(L.a,{component:p,type:"text",name:"answer",placeholder:"answer",validate:[G]})),n.a.createElement("button",null,"Create card"))})),Aa=t(38),Sa=t.n(Aa),ya=function(e){var a=e.toggleEditPackPopUp,t=e.id,r=e.cardsPack_id,c=Object(h.c)(),o=Object(h.d)((function(e){return e.cardsReducer})).fromCardsServer;return n.a.createElement("div",{className:Sa.a.editCard},n.a.createElement("div",{className:Sa.a.editCard__formWrap},n.a.createElement("div",{className:Sa.a.close,onClick:function(){a("")}}),n.a.createElement(xa,{onSubmit:function(e){var n,s;c((n={page:o.page,pageCount:o.pageCount,cardsPack_id:r},s={_id:t,question:e.question,answer:e.answer,comments:e.comments},function(){var e=Object(k.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(ma(!0)),e.prev=1,e.next=4,la(s);case 4:return e.next=6,ia(n);case 6:t=e.sent,a(pa(t)),a(ma(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a(ma(!1)),console.log(e.t0.response.data.error);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}())),a("")}})))},xa=Object(U.a)({form:"EditCardForm"})((function(e){return n.a.createElement("form",{className:Sa.a.editCard__form,onSubmit:e.handleSubmit},n.a.createElement("div",{className:Sa.a.editCard__formGroup},n.a.createElement(L.a,{component:p,type:"text",name:"question",placeholder:"change question"})),n.a.createElement("div",{className:Sa.a.editCard__formGroup},n.a.createElement(L.a,{component:p,type:"text",name:"answer",placeholder:"change answer"})),n.a.createElement("div",{className:Sa.a.editCard__formGroup},n.a.createElement(L.a,{component:_,type:"text",name:"comments",placeholder:"comment"})),n.a.createElement("button",null,"Save"))})),Ra=Object(f.g)((function(e){var a=Object(h.c)(),t=Object(h.d)((function(e){return e.authReducer})).userProfile,c=Object(h.d)((function(e){return e.cardsReducer})),o=c.fromCardsServer,s=c.currentPortion,i=c.isLoading,u=c.sortBy,l=c.sortParam,d=Object(h.d)((function(e){return e.packsReducer})),m=e.match.params.cardsPack_id,p=Object(r.useState)(!1),_=Object(ee.a)(p,2),f=_[0],v=_[1],b=Object(r.useState)(""),E=Object(ee.a)(b,2),P=E[0],C=E[1],O=Object(r.useCallback)((function(){v((function(e){return!e}))}),[]),w=Object(r.useCallback)((function(e){C(e)}),[]),j=Object(r.useCallback)((function(e){var t,r=o.pageCount;a((t={page:e,pageCount:r,sortCards:l,cardsPack_id:m},function(){var e=Object(k.a)(g.a.mark((function e(a){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(ma(!0)),e.prev=1,a(_a(t.page)),e.next=5,ia(t);case 5:r=e.sent,a(pa(r)),a(ma(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),a(ma(!1)),console.log(e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}()))}),[a,o.pageCount,l]),N=Object(r.useCallback)((function(e){var t,r=o.page;a((t={page:r,pageCount:e,sortCards:l,cardsPack_id:m},function(){var e=Object(k.a)(g.a.mark((function e(a){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(ma(!0)),e.prev=1,a({type:"SET_SHOW_CARDS_BY",pageCount:t.pageCount}),e.next=5,ia(t);case 5:r=e.sent,a(pa(r)),a(ma(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),a(ma(!1)),console.log(e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}()))}),[a,o.page,l]),A=Object(r.useCallback)((function(e){a(ga(!!e))}),[a]),S=Object(r.useCallback)((function(e){a(ka(e))}),[a]),y=Object(r.useCallback)((function(e){var t,r=u?"1".concat(e):"0".concat(e);a((t={page:o.page,pageCount:o.pageCount,sortCards:"".concat(r),cardsPack_id:m},function(){var e=Object(k.a)(g.a.mark((function e(a){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(ma(!0)),e.prev=1,a({type:"SORT_CARDS"}),t.sortPacks&&a({type:"SET_CARDS_SORT_PARAM",sortParam:t.sortPacks}),e.next=6,ia(t);case 6:r=e.sent,a(pa(r)),a(ma(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a(ma(!1)),console.log(e.t0.response.data.error);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}()))}),[a,u,o.pageCount,o.page]);Object(r.useEffect)((function(){var e=o.page,t=o.pageCount;return a(ba({cardsPack_id:m,page:e,pageCount:t})),function(){a(ka(1)),a(_a(1))}}),[]);var x=["answer","question"].map((function(e,a){return n.a.createElement(Ie,{key:a,sortDirection:e,sortRegular:y})})),R=d.fromServer.cardPacks.filter((function(e){if(e._id===m&&e.user_id===t._id)return e})),B=o.cards.map((function(e){var a=e._id,t=e.question,r=e.answer,c=e.created;return n.a.createElement(Ca,{key:a,question:t,answer:r,created:c,checkIfPackIsYours:R.length,toggleEditPackPopUp:w,id:a,cardsPack_id:m})})),F=B.length<1?n.a.createElement("div",null,"There are no cards yet here."):B;return n.a.createElement("div",{className:oa.a.cards},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:oa.a.cards__interface},n.a.createElement("button",{className:oa.a.cards__btn,onClick:O},"add new card"),n.a.createElement(Ze,{searchBy:["cardQuestion","cardAnswer"],onSearchSubmit:function(e){e.cardAnswer?(a(ba({page:o.page,pageCount:o.pageCount,cardAnswer:e.cardAnswer,cardsPack_id:m})),a(Object(ra.a)("SearchForm"))):e.cardQuestion?(a(ba({page:o.page,pageCount:o.pageCount,cardQuestion:e.cardQuestion,cardsPack_id:m})),a(Object(ra.a)("SearchForm"))):(a(ba({page:o.page,pageCount:o.pageCount,cardsPack_id:m})),a(Object(ra.a)("SearchForm")))}}),n.a.createElement("div",{className:oa.a.cards__sortBlock},n.a.createElement("div",{className:oa.a.cards__sortTitle},"Sort by:"),n.a.createElement("div",{className:oa.a.cards__sortBtns},x))),n.a.createElement("div",{className:oa.a.cardsTable},n.a.createElement("div",{className:oa.a.cardsTable__header},n.a.createElement("div",null,"Card question"),n.a.createElement("div",null,"Card answer"),n.a.createElement("div",null,"Created")),i?n.a.createElement(ta,null):F),n.a.createElement(aa,{currentPage:o.page,itemsOnPage:o.pageCount,onPageChange:j,pagesInPortion:5,totalItems:o.cardsTotalCount,onShowByChange:N,onPortionChange:A,currentPortion:s,setPortionChange:S})),f&&n.a.createElement(ja,{toggleCreatePackPopUp:O,cardsPack_id:m}),P&&n.a.createElement(ya,{toggleEditPackPopUp:w,id:P,cardsPack_id:m}))})),Ba=t(59),Fa=t.n(Ba),Ta=function(){return n.a.createElement("div",{className:Fa.a.notFound},n.a.createElement("div",{className:Fa.a.notFound__title},"404"),n.a.createElement("div",{className:Fa.a.notFound__text},"page not found"),n.a.createElement(v.b,{className:Fa.a.notFound__link,to:"/login"},"To login page."))},Ga=function(){var e=Object(h.c)(),a=Object(h.d)((function(e){return e.appReducer})).isInit,t=Object(h.d)((function(e){return e.authReducer})).isAuth;return Object(r.useEffect)((function(){e(function(){var e=Object(k.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:t=e.sent,a(x(!0,t)),a(me(!0)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a(me(!0)),console.log(e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}())}),[e]),a?n.a.createElement("div",{className:"App"},t&&n.a.createElement(he,null),n.a.createElement(f.d,null,n.a.createElement(f.b,{exact:!0,path:"/",render:function(){return n.a.createElement($,null)}}),n.a.createElement(f.b,{exact:!0,path:"/packs",render:function(){return n.a.createElement(na,null)}}),n.a.createElement(f.b,{exact:!0,path:"/cards/:cardsPack_id",render:function(){return n.a.createElement(Ra,null)}}),n.a.createElement(f.b,{exact:!0,path:"/login",render:function(){return n.a.createElement(M,null)}}),n.a.createElement(f.b,{exact:!0,path:"/restorePassword",render:function(){return n.a.createElement(ne,null)}}),n.a.createElement(f.b,{exact:!0,path:"/registration",render:function(){return n.a.createElement(K,null)}}),n.a.createElement(f.b,{exact:!0,path:"/set-new-password/:token",render:function(){return n.a.createElement(de,null)}}),n.a.createElement(f.b,{render:function(){return n.a.createElement(Ta,null)}}))):n.a.createElement(_e,null)},Ia=t(132),Da=t(15),La=t(128),Ua=Object(Da.c)({form:La.a,authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"AUTH_ME":case"LOGIN":return Object(E.a)(Object(E.a)({},e),{},{isAuth:a.isAuth,userProfile:a.userProfile});case"LOGOUT":return Object(E.a)(Object(E.a)({},e),{},{isAuth:a.isAuth});case"ERROR":return Object(E.a)(Object(E.a)({},e),{},{error:a.error});case"LOADING":return Object(E.a)(Object(E.a)({},e),{},{isLoading:a.isLoading});default:return e}},registrationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"REGISTER":return Object(E.a)(Object(E.a)({},e),{},{registrationSuccess:a.registrationSuccess});case"ERROR":return Object(E.a)(Object(E.a)({},e),{},{error:a.error});case"LOADING":return Object(E.a)(Object(E.a)({},e),{},{isLoading:a.isLoading});default:return e}},restorePasswordReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"RESTORE_PASSWORD":return Object(E.a)(Object(E.a)({},e),{},{restored:a.restored});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_NEW_PASSWORD":return Object(E.a)(Object(E.a)({},e),{},{passwordIsSet:a.passwordIsSet});case"ERROR":return Object(E.a)(Object(E.a)({},e),{},{error:a.error});case"LOADING":return Object(E.a)(Object(E.a)({},e),{},{isLoading:a.isLoading});default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"APP_INITIALIZED":return Object(E.a)(Object(E.a)({},e),{},{isInit:a.isInit});default:return e}},packsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_PACKS":return Object(E.a)(Object(E.a)({},e),{},{fromServer:Object(E.a)(Object(E.a)({},e.fromServer),{},{cardPacks:a.payload.cardPacks,cardPacksTotalCount:a.payload.cardPacksTotalCount})});case"SET_CURRENT_PAGE":return Object(E.a)(Object(E.a)({},e),{},{fromServer:Object(E.a)(Object(E.a)({},e.fromServer),{},{page:a.page})});case"SET_SHOW_BY":return Object(E.a)(Object(E.a)({},e),{},{fromServer:Object(E.a)(Object(E.a)({},e.fromServer),{},{pageCount:a.pageCount})});case"CHANGE_PORTION":return Object(E.a)(Object(E.a)({},e),{},{currentPortion:a.flag?e.currentPortion+1:e.currentPortion-1});case"SET_PORTION":return Object(E.a)(Object(E.a)({},e),{},{currentPortion:a.portion});case"SET_SORT_PARAM":return Object(E.a)(Object(E.a)({},e),{},{sortParam:a.sortParam});case"SORT":return Object(E.a)(Object(E.a)({},e),{},{sortBy:!e.sortBy});case"SHOW_MY_PACKS":return Object(E.a)(Object(E.a)({},e),{},{onlyMyPacks:a.showMyPacks,fromServer:Object(E.a)(Object(E.a)({},e.fromServer),{},{page:a.page})});case"LOADING":return Object(E.a)(Object(E.a)({},e),{},{isLoading:a.isLoading});default:return e}},cardsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOADING":return Object(E.a)(Object(E.a)({},e),{},{isLoading:a.isLoading});case"GET_CARDS":return Object(E.a)(Object(E.a)({},e),{},{fromCardsServer:Object(E.a)(Object(E.a)({},e.fromCardsServer),{},{cards:a.payload.cards,cardsTotalCount:a.payload.cardsTotalCount})});case"IS_YOUR_PACK":return Object(E.a)(Object(E.a)({},e),{},{isYourPack:a.isYourPack});case"SET_SHOW_CARDS_BY":return Object(E.a)(Object(E.a)({},e),{},{fromCardsServer:Object(E.a)(Object(E.a)({},e.fromCardsServer),{},{pageCount:a.pageCount})});case"CHANGE_CARDS_PORTION":return Object(E.a)(Object(E.a)({},e),{},{currentPortion:a.flag?e.currentPortion+1:e.currentPortion-1});case"SET_CARDS_PORTION":return Object(E.a)(Object(E.a)({},e),{},{currentPortion:a.portion});case"SET_CURRENT_CARDS_PAGE":return Object(E.a)(Object(E.a)({},e),{},{fromCardsServer:Object(E.a)(Object(E.a)({},e.fromCardsServer),{},{page:a.page})});case"SET_CARDS_SORT_PARAM":return Object(E.a)(Object(E.a)({},e),{},{sortParam:a.sortParam});case"SORT_CARDS":return Object(E.a)(Object(E.a)({},e),{},{sortBy:!e.sortBy});default:return e}}}),Ma=Object(Da.d)(Ua,Object(Da.a)(Ia.a));o.a.render(n.a.createElement(v.a,{basename:"/"},n.a.createElement(h.a,{store:Ma},n.a.createElement(Ga,null))),document.getElementById("root"))},30:function(e,a,t){e.exports={header:"Header_header__2Rf8R",headerNav:"Header_headerNav__P5SEh",headerNav__link:"Header_headerNav__link__1Fkd2",active:"Header_active__Vqznj",header__logout:"Header_header__logout__1tHIV"}},31:function(e,a,t){e.exports={packs:"Packs_packs__9mhdn",packs__interface:"Packs_packs__interface__CGJR_",active:"Packs_active__2g8Ui",packs__btn:"Packs_packs__btn__3HveT",packs__sortBlock:"Packs_packs__sortBlock__3eSf1",packs__sortTitle:"Packs_packs__sortTitle__NMy8A",packs__sortBtns:"Packs_packs__sortBtns__30Aqq",packsTable__header:"Packs_packsTable__header__Q1RPt"}},32:function(e,a,t){e.exports={searchBlock:"Search_searchBlock__2wJ4B",searchFieldGroup:"Search_searchFieldGroup__2cyQ-",searchOptionsBtn:"Search_searchOptionsBtn__1peqr",open:"Search_open__2n8Q3",searchOptions:"Search_searchOptions__1PPNj"}},33:function(e,a,t){e.exports={cards:"Cards_cards__1cdG5",cards__interface:"Cards_cards__interface__3pU5N",active:"Cards_active__xTTqt",cards__btn:"Cards_cards__btn__bGMUu",cards__sortBlock:"Cards_cards__sortBlock__-yrmn",cards__sortTitle:"Cards_cards__sortTitle__1OTko",cards__sortBtns:"Cards_cards__sortBtns__RKwiA",cardsTable__header:"Cards_cardsTable__header__37juP"}},38:function(e,a,t){e.exports={editCard:"EditCard_editCard__260xI",editCard__formWrap:"EditCard_editCard__formWrap__s4ssX",editCardAnimation:"EditCard_editCardAnimation__H2vkj",close:"EditCard_close__oRg3c",editCard__form:"EditCard_editCard__form__1R3Fv",editCard__formGroup:"EditCard_editCard__formGroup__2lQq2"}},42:function(e,a,t){e.exports={createCard:"AddCard_createCard__2XLKN",createCard__formWrap:"AddCard_createCard__formWrap__2gFc8",createCardAnimation:"AddCard_createCardAnimation__2IpMH",close:"AddCard_close__3OFvy",createCard__form:"AddCard_createCard__form__19G7F",createCard__formGroup:"AddCard_createCard__formGroup__2DCr5"}},49:function(e,a,t){e.exports={createPack:"AddPack_createPack__D8I2N",createPack__formWrap:"AddPack_createPack__formWrap__28sjk",createPackAnimation:"AddPack_createPackAnimation__1DicS",close:"AddPack_close__2Qr5p",createPack__form:"AddPack_createPack__form__2NDJj",createPack__formGroup:"AddPack_createPack__formGroup__1wH8o"}},50:function(e,a,t){e.exports={editPack:"EditPack_editPack__HmmP9",editPack__formWrap:"EditPack_editPack__formWrap__1y4yE",editPackAnimation:"EditPack_editPackAnimation__2xT9w",close:"EditPack_close__3j5jq",editPack__form:"EditPack_editPack__form__2QJsX",editPack__formGroup:"EditPack_editPack__formGroup__1-2jU"}},59:function(e,a,t){e.exports={notFound:"NotFound_notFound__1IP9m",notFound__title:"NotFound_notFound__title__28PDP",notFound__text:"NotFound_notFound__text__3e82U",notFound__link:"NotFound_notFound__link__p8rz5"}},7:function(e,a,t){e.exports={authFormBlock:"authStyles_authFormBlock__1MkRR",authFormWrap:"authStyles_authFormWrap__1h9Rs",disabled:"authStyles_disabled__VEbpM",authFormTitle:"authStyles_authFormTitle__2F_7D",authForm:"authStyles_authForm__vz244",authForm__formGroup:"authStyles_authForm__formGroup__1_Fyz",authForm__checkboxGroup:"authStyles_authForm__checkboxGroup__3ln6U",authForm__info:"authStyles_authForm__info__G0UFx",authFormError:"authStyles_authFormError__3ogzL",authErrorAnimation:"authStyles_authErrorAnimation__1Oqgf"}},70:function(e,a,t){e.exports={formFieldError:"formField_formFieldError__1z52X",checkboxGroup:"formField_checkboxGroup__2qKVs"}},73:function(e,a,t){e.exports={restorePasswordPopUp:"RestorePassword_restorePasswordPopUp__UkIgP",restorePasswordPopUp__content:"RestorePassword_restorePasswordPopUp__content__2Gp99",restorePopUpAnimation:"RestorePassword_restorePopUpAnimation__3bPbn",restorePasswordPopUp__info:"RestorePassword_restorePasswordPopUp__info__Yhn_e"}},95:function(e,a,t){e.exports={sortCheck:"Sorting_sortCheck__3N_yI",sortBtn:"Sorting_sortBtn__12Eqq"}}},[[159,1,2]]]);
//# sourceMappingURL=main.7e46dd24.chunk.js.map