{"version":3,"sources":["utils/pagination/Pagination.module.scss","assets/img/user.png","auth/profile/Profile.module.scss","packs/pack/Pack.module.scss","cards/card/Card.module.scss","utils/formFields/formFields.tsx","api/authApi.ts","reducers/authReducers/loginReducer.ts","utils/formValidation/formValidation.ts","utils/loading/authLoading/AuthLoading.tsx","auth/login/Login.tsx","reducers/authReducers/registrationReducer.ts","auth/registration/Registration.tsx","auth/profile/Profile.tsx","reducers/authReducers/restorePasswordReducer.ts","auth/restorePassword/RestorePassword.tsx","reducers/authReducers/newPasswordReducer.ts","auth/newPassword/NewPassword.tsx","app/appReducer.ts","utils/loading/appInitLoading/AppInitLoading.tsx","header/Header.tsx","api/packsApi.ts","reducers/packsReducer/packsReducer.ts","utils/sorting/Sorting.tsx","packs/pack/Pack.tsx","packs/addPack/AddPack.tsx","packs/editPack/EditPack.tsx","utils/search/Search.tsx","utils/pagination/Pagination.tsx","utils/loading/packsLoading/PacksLoading.tsx","packs/Packs.tsx","api/cardsApi.ts","reducers/cardsReducer/cardsReducer.ts","cards/card/Card.tsx","cards/addCard/AddCard.tsx","cards/editCard/EditCard.tsx","cards/Cards.tsx","notFound/NotFound.tsx","app/App.tsx","store/store.ts","index.tsx","header/Header.module.scss","packs/Packs.module.scss","utils/search/Search.module.scss","cards/Cards.module.scss","cards/editCard/EditCard.module.scss","cards/addCard/AddCard.module.scss","packs/addPack/AddPack.module.scss","packs/editPack/EditPack.module.scss","notFound/NotFound.module.scss","auth/authStyles/authStyles.module.css","utils/formFields/formField.module.scss","auth/restorePassword/RestorePassword.module.css","utils/sorting/Sorting.module.scss"],"names":["module","exports","FormField","Element","input","meta","props","error","touched","className","s","formFieldError","Input","Textarea","instance","axios","create","baseURL","withCredentials","authApi","email","password","post","then","res","console","log","data","rememberMe","delete","from","message","resetPasswordToken","authMeAC","isAuth","userProfile","type","errorAC","loadingAC","isLoading","authInitState","_id","name","avatar","publicCardPacksCount","created","updated","isAdmin","verified","token","tokenDeathTime","authMeTC","dispatch","a","response","fieldRequired","value","minLength","length","AuthLoading","Login","useDispatch","authState","useSelector","state","authReducer","useEffect","localStorage","getItem","to","authFormBlock","authFormWrap","disabled","authFormTitle","ReduxLoginForm","onSubmit","loginData","setTimeout","authFormError","reduxForm","form","handleSubmit","authForm","authForm__formGroup","Field","component","placeholder","id","validate","authForm__info","authForm__checkboxGroup","htmlFor","initialState","registrationSuccess","Registration","registrationState","store","registrationReducer","ReduxRegistrationForm","registrationData","repeatPassword","minLengthValidation","Profile","profileBlock","profileContent","profileContent__left","profileContent__ava","src","alt","dummy_img","profileContent__right","profileContent__userData","restorePasswordInitState","restored","RestorePassword","useState","showPopUp","setShowPopUp","ReduxRestorePasswordForm","restoreData","sr","restorePasswordPopUp","restorePasswordPopUp__content","restorePasswordPopUp__info","SetNewPasswordInitState","passwordIsSet","ReduxSetNewPasswordForm","NewPasswordWithRouter","withRouter","setNewPasswordState","newPassword","newData","match","params","appInitAC","isInit","appInitialState","AppInitLoading","Header","currentUrl","history","location","pathname","header","headerNav","headerNav__link","active","header__logout","onClick","packsApi","paramString","i","concat","get","cardsPack","put","getPacksAC","payload","showMyPacksAC","showMyPacks","page","changePortionAC","flag","setPortionAC","portion","initState","fromServer","cardPacks","cardPacksTotalCount","maxCardsCount","minCardsCount","pageCount","sortBy","sortParam","onlyMyPacks","currentPortion","getPacksTC","changePageTC","changePortionTC","setPortionTC","Sorting","sortDirection","sortRegular","sortCheck","radioSort","checked","onChange","regularSort","sortBtn","sortTypeCheck","Pack","packsState","packsReducer","cardsCount","user_id","toggleEditPackPopUp","deletePack","checkFlag","deletePackTC","disabledDeleteBtn","pack__btn","pack__btn_del","disabledEditBtn","pack__btn_edit","pack","pack__row","pack__interface","AddPack","toggleCreatePackPopUp","createPack","createPack__formWrap","close","AddPackReduxForm","formData","private","createPack__form","createPack__formGroup","s2","checkboxGroup","EditPack","editPack","editPack__formWrap","EditPackReduxForm","editPack__form","editPack__formGroup","Search","searchBy","onSearchSubmit","searchBlock","SearchReduxForm","open","setOpen","searchParam","setSearchParam","searchByMap","map","idx","key","prev","searchFieldGroup","searchOptions","searchOptionsBtn","Pagination","currentPage","itemsOnPage","onPageChange","pagesInPortion","totalItems","onShowByChange","onPortionChange","setPortionChange","totalPages","Math","ceil","totalPortions","pages","push","firstPageInPortion","lastPageInPortion","pagesMap","filter","f","m","pageBtn","lastPage","paginationBlock__pre_after","paginationDots","portionWithLastPage","firstPage","portionWithFirstPage","openSelect","setOpenSelect","showByChange","showBy","pagination","paginationBlock","paginationSelectBlock","paginationSelectBlock__title","paginationSelect","paginationSelect__current","paginationSelect__options","PacksLoading","Packs","React","memo","createPackPopUp","setCreatePackPopUp","editPackPopUp","setEditPackPopUp","useCallback","sortUrl","sortPacks","packsMap","sortMap","sort","packs","packs__interface","packs__btn","queryParam","packName","reset","packs__sortBlock","packs__sortTitle","packs__sortBtns","packsTable","packsTable__header","cardsApi","card","getCardsAC","setCurrentPageAC","fromCardsServer","cards","cardsTotalCount","maxGrade","minGrade","isYourPack","getCardsTC","Card","cardsReducer","answer","question","checkIfPackIsYours","cardsPack_id","card__btn","card__btn_del","card__btn_edit","card__row","card__interface","deleteCardTC","AddCard","createCard","createCard__formWrap","AddCardReduxForm","createCard__form","createCard__formGroup","EditCard","editCard","editCard__formWrap","EditCardReduxForm","comments","editCard__form","editCard__formGroup","Cards","cardsState","sortCards","cardsMap","isPackEmpty","cards__interface","cards__btn","cardAnswer","cardQuestion","cards__sortBlock","cards__sortTitle","cards__sortBtns","cardsTable","cardsTable__header","NotFound","notFound","notFound__title","notFound__text","notFound__link","App","appReducer","exact","path","render","rootReducers","combineReducers","formReducer","action","restorePasswordReducer","createStore","applyMiddleware","thunkMiddleware","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.7e46dd24.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__ISsp7\",\"paginationBlock\":\"Pagination_paginationBlock__3pOBP\",\"paginationBlock__pre_after\":\"Pagination_paginationBlock__pre_after__2uWs2\",\"active\":\"Pagination_active__2G2nu\",\"pageBtn\":\"Pagination_pageBtn__HLkSp\",\"paginationDots\":\"Pagination_paginationDots__Kqbzr\",\"paginationSelectBlock\":\"Pagination_paginationSelectBlock__1zavh\",\"paginationSelectBlock__title\":\"Pagination_paginationSelectBlock__title__24lgm\",\"paginationSelect\":\"Pagination_paginationSelect__19I-p\",\"open\":\"Pagination_open__2slTW\",\"paginationSelect__current\":\"Pagination_paginationSelect__current__2KmYT\",\"paginationSelect__options\":\"Pagination_paginationSelect__options__3TxA1\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileBlock\":\"Profile_profileBlock__2hAkn\",\"profileContent\":\"Profile_profileContent__sSKnn\",\"profileContent__left\":\"Profile_profileContent__left__2fJmI\",\"profileContent__right\":\"Profile_profileContent__right__182Xu\",\"profileContent__ava\":\"Profile_profileContent__ava__4KdR4\",\"profileContent__userData\":\"Profile_profileContent__userData__1QNRu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pack\":\"Pack_pack__tmaeP\",\"pack__row\":\"Pack_pack__row__K4Xaw\",\"pack__interface\":\"Pack_pack__interface___ZJs5\",\"pack__btn\":\"Pack_pack__btn__35241\",\"pack__btn_del\":\"Pack_pack__btn_del__2V0G5\",\"pack__btn_edit\":\"Pack_pack__btn_edit__2l5S5\",\"disabled\":\"Pack_disabled__lRgh1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__15ZqB\",\"card__row\":\"Card_card__row__2BxvA\",\"card__interface\":\"Card_card__interface__AUvy1\",\"card__btn\":\"Card_card__btn__38NsQ\",\"card__btn_del\":\"Card_card__btn_del__1I9xk\",\"card__btn_edit\":\"Card_card__btn_edit__2KMkv\",\"disabled\":\"Card_disabled__3LBy9\"};","import React from \"react\";\r\nimport s from './formField.module.scss';\r\n\r\nconst FormField = (Element: string) => ({input, meta, ...props}: any) => {\r\n\r\n    const error = meta.touched && meta.error;\r\n\r\n    return (\r\n        <>\r\n            <Element {...input} {...props}/>\r\n            {\r\n                error &&\r\n                <div className={s.formFieldError}>{meta.error}</div>\r\n            }\r\n        </>\r\n    )\r\n};\r\n\r\nexport const Input = FormField('input');\r\nexport const Textarea = FormField('textarea');","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    withCredentials: true,\r\n});\r\n\r\nexport type LoginResponseObjectType = {\r\n    _id: string\r\n    email: string\r\n    name: string\r\n    avatar?: string\r\n    publicCardPacksCount: number // количество колод\r\n    created: string\r\n    updated: string\r\n    isAdmin: boolean\r\n    verified: boolean // подтвердил ли почту\r\n    rememberMe: boolean\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\nexport type LogoutResponseObjectType = {\r\n    info: string\r\n    error: string\r\n}\r\nexport type ForgotPasswordResponseObjectType = {\r\n    info: string\r\n    error: string\r\n}\r\n\r\nexport const authApi = {\r\n    registration(email: string, password: string) {\r\n        return instance.post('auth/register', {email, password})\r\n            .then(res => console.log(res.data))\r\n    },\r\n    authMe() {\r\n        return instance\r\n            .post<LoginResponseObjectType>(`auth/me`)\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance\r\n            .post<LoginResponseObjectType>(`auth/login`, {\r\n                email, password, rememberMe\r\n            })\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    logout() {\r\n        return instance\r\n            .delete<LogoutResponseObjectType>(`auth/me`)\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    restorePassword(email: string, from: string, message: string) {\r\n        return instance\r\n            .post<ForgotPasswordResponseObjectType>(`auth/forgot`, {\r\n                email, from, message\r\n            })\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    setNewPassword(password: string, resetPasswordToken: string) {\r\n        return instance\r\n            .post<ForgotPasswordResponseObjectType>(`auth/set-new-password`, {\r\n                password, resetPasswordToken\r\n            })\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n}","import { ThunkAction, ThunkDispatch } from \"redux-thunk\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {authApi, LoginResponseObjectType} from \"../../api/authApi\";\r\n\r\nconst AUTH_ME = 'AUTH_ME';\r\nconst LOGIN = 'LOGIN';\r\nconst LOGOUT = 'LOGOUT';\r\nconst ERROR = 'ERROR';\r\nconst LOADING = 'LOADING';\r\n\r\nexport type AuthMeACType = {\r\n    type: typeof AUTH_ME\r\n    isAuth: boolean\r\n    userProfile: LoginResponseObjectType\r\n};\r\ntype LoginACType = {\r\n    type: typeof LOGIN\r\n    isAuth: boolean\r\n    userProfile: LoginResponseObjectType\r\n};\r\ntype LogoutACType = {\r\n    type: typeof LOGOUT\r\n    isAuth: boolean\r\n};\r\ntype ErrorACType = {\r\n    type: typeof ERROR\r\n    error: string | null\r\n};\r\ntype LoadingACType = {\r\n    type: typeof LOADING\r\n    isLoading: boolean\r\n};\r\n\r\nexport const authMeAC = (isAuth: boolean, userProfile: LoginResponseObjectType): AuthMeACType => {\r\n    return {\r\n        type: AUTH_ME,\r\n        isAuth,\r\n        userProfile\r\n    }\r\n};\r\nexport const loginAC = (isAuth: boolean, userProfile: LoginResponseObjectType): LoginACType => {\r\n    return {\r\n        type: LOGIN,\r\n        isAuth,\r\n        userProfile\r\n    }\r\n};\r\nexport const logoutAC = (isAuth: boolean): LogoutACType => {\r\n    return {\r\n        type: LOGOUT,\r\n        isAuth,\r\n    }\r\n};\r\nexport const errorAC = (error: string | null): ErrorACType => {\r\n    return {\r\n        type: ERROR,\r\n        error,\r\n    }\r\n};\r\nexport const loadingAC = (isLoading: boolean): LoadingACType => {\r\n    return {\r\n        type: LOADING,\r\n        isLoading,\r\n    }\r\n};\r\n\r\ntype ActionTypes = AuthMeACType | LogoutACType | LoginACType | ErrorACType | LoadingACType;\r\n\r\nexport type AuthStateType = {\r\n    isLoading: boolean\r\n    isAuth: boolean\r\n    error: string | null\r\n    userProfile: LoginResponseObjectType\r\n};\r\n\r\nconst authInitState = {\r\n    isLoading: false,\r\n    isAuth: false,\r\n    error: null,\r\n    userProfile: {\r\n        _id: '',\r\n        email: '',\r\n        name: '',\r\n        avatar: '',\r\n        publicCardPacksCount: 0, // количество колод\r\n        created: '',\r\n        updated: '',\r\n        isAdmin: false,\r\n        verified: false, // подтвердил ли почту\r\n        rememberMe: false,\r\n        token: '',\r\n        tokenDeathTime: 0,\r\n    }\r\n};\r\n\r\nexport const authReducer = (state: AuthStateType = authInitState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case AUTH_ME:\r\n            return {...state, isAuth: action.isAuth, userProfile: action.userProfile};\r\n        case LOGIN:\r\n            return {...state, isAuth: action.isAuth, userProfile: action.userProfile};\r\n        case LOGOUT:\r\n            return {...state, isAuth: action.isAuth};\r\n        case ERROR:\r\n            return {...state, error: action.error};\r\n        case LOADING:\r\n            return {...state, isLoading: action.isLoading};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\ntype ThunkType = ThunkAction<void, AppRootStateType, {}, ActionTypes>;\r\nexport const authMeTC = (): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        const res = await authApi.authMe();\r\n        dispatch(authMeAC(true, res));\r\n    } catch (e) {\r\n        console.log(e.response.data.error)\r\n    }\r\n}\r\nexport const loginTC = (email: string, password: string, rememberMe: boolean): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        const res = await authApi.login(email, password, rememberMe);\r\n        dispatch(loginAC(true, res));\r\n        dispatch(loadingAC(false));\r\n    } catch (e) {\r\n        if ( e.response.data.error === \"not valid email/password /ᐠ-ꞈ-ᐟ\\\\\") {\r\n            dispatch(loadingAC(false));\r\n            dispatch(errorAC('Incorrect password or email.'))\r\n            setTimeout(() => {\r\n                dispatch(errorAC(null));\r\n            }, 3000)\r\n        } else {\r\n            dispatch(loadingAC(false));\r\n            dispatch(errorAC(e.response.data.error));\r\n            setTimeout(() => {\r\n                dispatch(errorAC(null));\r\n            }, 3000)\r\n        }\r\n    }\r\n}\r\nexport const logoutTC = (): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        await authApi.logout();\r\n        dispatch(logoutAC(false));\r\n    } catch (e) {\r\n        console.log(e.response.data.error)\r\n    }\r\n}","export const fieldRequired = (value: string) => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return \"Field is required\";\r\n};\r\nexport const minLength = (minLength: number) => (value: string) => {\r\n    if (value && value.length < minLength) {\r\n        return 'Password length must be 8 symbols or more.'\r\n    } else if (value && value.length >= minLength) {\r\n        return undefined;\r\n    } else {\r\n        return 'Field is required.'\r\n    }\r\n}","import React from \"react\";\r\nimport './AuthLoading.css';\r\n\r\nexport const AuthLoading = () => {\r\n    return (\r\n        <div className=\"auth-loading\">\r\n            <div className=\"auth-loading__inner\">\r\n                <div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {PropsWithChildren, useEffect} from \"react\";\r\nimport s from '../authStyles/authStyles.module.css';\r\nimport {Input} from \"../../utils/formFields/formFields\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {authMeTC, AuthStateType, loginTC} from \"../../reducers/authReducers/loginReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {fieldRequired} from \"../../utils/formValidation/formValidation\";\r\nimport {AuthLoading} from \"../../utils/loading/authLoading/AuthLoading\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\n\r\ntype LoginFormType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nexport const Login = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const authState = useSelector<AppRootStateType, AuthStateType>(state => state.authReducer);\r\n    const {isAuth, error, isLoading} = authState;\r\n\r\n    const onSubmit = (loginData: LoginFormType) => {\r\n        dispatch(loginTC(loginData.email, loginData.password, loginData.rememberMe));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('isAuth')) {\r\n            dispatch(authMeTC());\r\n        }\r\n    }, [dispatch]);\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.authFormBlock}>\r\n            <div className={isLoading ? `${s.authFormWrap} ${s.disabled}` : `${s.authFormWrap}`}>\r\n                <div className={s.authFormTitle}>Login</div>\r\n                <ReduxLoginForm onSubmit={onSubmit}/>\r\n                {\r\n                    isLoading &&\r\n                    <AuthLoading/>\r\n                }\r\n            </div>\r\n            {\r\n                error &&\r\n                <div className={s.authFormError}>\r\n                    {error}\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormType>> = (props: PropsWithChildren<InjectedFormProps<LoginFormType>>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.authForm}>\r\n            <div className={s.authForm__formGroup}>\r\n                <Field component={Input} name={'email'} type={'email'} placeholder={'email'} id={'emailLogin'}\r\n                       validate={[fieldRequired]}/>\r\n            </div>\r\n            <div className={s.authForm__formGroup}>\r\n                <Field component={Input} name={'password'} type={'password'} placeholder={'password'}\r\n                       id={'passwordLogin'} validate={[fieldRequired]}/>\r\n            </div>\r\n            <div className={s.authForm__info}>\r\n                <Link to={'/restorePassword'}>Forgot your password?</Link>\r\n            </div>\r\n            <div className={s.authForm__checkboxGroup}>\r\n                <Field component={Input} name={'rememberMe'} type={'checkbox'} id={'checkboxLogin'}/>\r\n                <label htmlFor=\"checkboxLogin\">Remember Me</label>\r\n            </div>\r\n            <div className={s.authForm__formGroup}>\r\n                <button>Login</button>\r\n            </div>\r\n            <div className={s.authForm__info}>\r\n                New user?&nbsp;<Link to={'/registration'}>Register now.</Link>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst ReduxLoginForm = reduxForm<LoginFormType>({\r\n    form: 'LoginForm'\r\n})(LoginForm);","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {authApi} from \"../../api/authApi\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\n\r\nconst REGISTER = 'REGISTER';\r\nconst LOADING = 'LOADING';\r\nconst ERROR = 'ERROR';\r\n\r\ntype RegisterACType = {\r\n    type: typeof REGISTER\r\n    registrationSuccess: boolean\r\n}\r\ntype ErrorACType = {\r\n    type: typeof ERROR\r\n    error: string | null\r\n}\r\ntype LoadingACType = {\r\n    type: typeof LOADING\r\n    isLoading: boolean\r\n};\r\nexport const loadingAC = (isLoading: boolean): LoadingACType => {\r\n    return {\r\n        type: LOADING,\r\n        isLoading,\r\n    }\r\n};\r\n\r\nconst registerAC = (registrationSuccess: boolean): RegisterACType => ({\r\n    type: REGISTER,\r\n    registrationSuccess,\r\n});\r\nconst errorAC = (error: string | null): ErrorACType => ({\r\n    type: ERROR,\r\n    error\r\n});\r\n\r\ntype ActionTypes = RegisterACType | ErrorACType | LoadingACType;\r\n\r\nexport type RegistrationInitialStateType = {\r\n    registrationSuccess: boolean\r\n    error: string | null\r\n    isLoading: boolean\r\n}\r\nconst initialState = {\r\n    registrationSuccess: false,\r\n    error: null,\r\n    isLoading: false,\r\n};\r\n\r\nexport const registrationReducer = (state: RegistrationInitialStateType = initialState, action: ActionTypes) => {\r\n\r\n    switch (action.type) {\r\n        case REGISTER:\r\n            return { ...state, registrationSuccess: action.registrationSuccess };\r\n        case ERROR:\r\n            return { ...state, error: action.error };\r\n        case LOADING:\r\n            return {...state, isLoading: action.isLoading};\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\ntype ThunkType = ThunkAction<void, AppRootStateType, {}, ActionTypes>;\r\nexport const registrationTC = (email: string, password: string): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        await authApi.registration(email, password);\r\n        dispatch(registerAC(true));\r\n        dispatch(loadingAC(false));\r\n    } catch (e) {\r\n        dispatch(errorAC(e.response.data.error));\r\n        dispatch(loadingAC(false));\r\n        setTimeout(() => {\r\n            dispatch(errorAC(null));\r\n        }, 3000)\r\n    }\r\n};\r\nexport const errorTC = (): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(errorAC('Passwords do not match.'));\r\n    setTimeout(() => {\r\n        dispatch(errorAC(null));\r\n    }, 3000)\r\n};\r\n\r\n","import React, {PropsWithChildren} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {errorTC, RegistrationInitialStateType, registrationTC} from \"../../reducers/authReducers/registrationReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../utils/formFields/formFields\";\r\nimport {fieldRequired, minLength} from \"../../utils/formValidation/formValidation\";\r\nimport s from \"../authStyles/authStyles.module.css\";\r\nimport {AuthLoading} from \"../../utils/loading/authLoading/AuthLoading\";\r\n\r\ntype regFormType = {\r\n    email: string\r\n    password: string\r\n    repeatPassword: string\r\n}\r\n\r\nexport const Registration: React.FC = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const registrationState = useSelector<AppRootStateType, RegistrationInitialStateType>(store => store.registrationReducer);\r\n    const {error, isLoading, registrationSuccess} = registrationState;\r\n\r\n    const onSubmit = (registrationData: regFormType) => {\r\n        if (registrationData.password === registrationData.repeatPassword) {\r\n            dispatch(registrationTC(registrationData.email, registrationData.password))\r\n        } else {\r\n            dispatch(errorTC());\r\n            return;\r\n        }\r\n    };\r\n\r\n    if (registrationSuccess) {\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n\r\n    return (\r\n\r\n        <div className={s.authFormBlock}>\r\n            <div className={s.authFormWrap}>\r\n                <div className={s.authFormTitle}>Registration</div>\r\n                <ReduxRegistrationForm onSubmit={onSubmit}/>\r\n                {\r\n                    isLoading &&\r\n                    <AuthLoading/>\r\n                }\r\n            </div>\r\n            {\r\n                error &&\r\n                <div className={s.authFormError}>\r\n                    {error}\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nconst minLengthValidation = minLength(8);\r\nconst RegistrationForm: React.FC<InjectedFormProps<regFormType>> =\r\n    (props: PropsWithChildren<InjectedFormProps<regFormType>>) => {\r\n        return (\r\n            <form onSubmit={props.handleSubmit} className={s.authForm}>\r\n                <div className={s.authForm__formGroup}>\r\n                    <Field component={Input} type={'email'} placeholder={'email'}\r\n                           validate={[fieldRequired]}\r\n                           id={'registrationEmail'} name={'email'}/>\r\n                </div>\r\n                <div className={s.authForm__formGroup}>\r\n                    <Field component={Input} type={'password'}\r\n                           placeholder={'password'} validate={[fieldRequired, minLengthValidation]}\r\n                           id={'registrationPassword'} name={'password'}/>\r\n                </div>\r\n                <div className={s.authForm__formGroup}>\r\n                    <Field component={Input} placeholder={'repeat password'} type={'password'}\r\n                           validate={[fieldRequired]}\r\n                           id={'registrationRepeatPassword'} name={'repeatPassword'}/>\r\n                </div>\r\n                <div className={s.authForm__formGroup}>\r\n                    <button>Send</button>\r\n                </div>\r\n                <div className={s.authForm__info}>\r\n                    Have an account?&nbsp;<Link to={'/login'}>Sign in.</Link>\r\n                </div>\r\n            </form>\r\n        )\r\n    };\r\n\r\nconst ReduxRegistrationForm = reduxForm<regFormType>({\r\n    form: 'RegistrationForm'\r\n})(RegistrationForm);\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport s from './Profile.module.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {authMeTC, AuthStateType} from \"../../reducers/authReducers/loginReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport dummy_img from '../../assets/img/user.png';\r\n\r\nexport const Profile = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const authState = useSelector<AppRootStateType, AuthStateType>(state => state.authReducer);\r\n    const {isAuth, userProfile} = authState;\r\n\r\n    useEffect(() => {\r\n        dispatch(authMeTC());\r\n    }, [dispatch])\r\n\r\n    if (!isAuth) {\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n\r\n    //const expirationDate = new Date(userProfile.tokenDeathTime).toLocaleString();\r\n\r\n    return (\r\n        <div className={s.profileBlock}>\r\n            <div className={'container'}>\r\n                <div className={s.profileContent}>\r\n                    <div className={s.profileContent__left}>\r\n                        <div className={s.profileContent__ava}>\r\n                            {\r\n                                userProfile.avatar\r\n                                    ? <img src={userProfile.avatar} alt={'user ava'}/>\r\n                                    : <img src={dummy_img} alt={'user ava'}/>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className={s.profileContent__right}>\r\n                        <div className={s.profileContent__userData}>\r\n                            Name: {userProfile.name}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            User id: {userProfile._id}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Email: {userProfile.email}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Created: {userProfile.created}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Admin: {userProfile.isAdmin ? 'yes' : 'no'}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Cards pack: {userProfile.publicCardPacksCount}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Remember login: {userProfile.rememberMe ? 'yes' : 'no'}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Updated: {userProfile.updated}\r\n                        </div>\r\n                        <div className={s.profileContent__userData}>\r\n                            Verified: {userProfile.verified ? 'yes' : 'no'}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {authApi} from \"../../api/authApi\";\r\n\r\nconst RESTORE_PASSWORD = 'RESTORE_PASSWORD';\r\n\r\ntype RestorePasswordACType = {\r\n    type: typeof RESTORE_PASSWORD\r\n    restored: boolean\r\n};\r\nconst restorePasswordAC = (restored: boolean): RestorePasswordACType => {\r\n    return {\r\n        type: RESTORE_PASSWORD,\r\n        restored,\r\n    }\r\n}\r\n\r\ntype ActionTypes = RestorePasswordACType;\r\n\r\nexport type RestorePasswordStateType = {\r\n    restored: boolean\r\n}\r\nconst restorePasswordInitState: RestorePasswordStateType = {\r\n    restored: false,\r\n}\r\n\r\nexport const restorePasswordReducer = (state: RestorePasswordStateType = restorePasswordInitState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case RESTORE_PASSWORD:\r\n            return {...state, restored: action.restored}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype ThunkType = ThunkAction<void, AppRootStateType, {}, ActionTypes>;\r\nexport const restorePasswordTC = (email: string): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        const message =\r\n            `<div style=\"background-color: lime; padding: 15px\">\r\n                password recovery link: \r\n                <a href=\"https://alexey6486.github.io/friday_project/#/set-new-password/$token$\">link</a>\r\n            </div>`\r\n        await authApi.restorePassword(email, 'alexey6486@gmail.com', message);\r\n        dispatch(restorePasswordAC(true));\r\n    } catch (e) {\r\n        console.log(e.response.data.error)\r\n    }\r\n}","import React, {PropsWithChildren, useState} from \"react\";\r\nimport sr from './RestorePassword.module.css';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {restorePasswordTC} from \"../../reducers/authReducers/restorePasswordReducer\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport s from \"../authStyles/authStyles.module.css\";\r\nimport {Input} from \"../../utils/formFields/formFields\";\r\nimport {fieldRequired} from \"../../utils/formValidation/formValidation\";\r\n\r\ntype RestorePasswordFormType = {\r\n    email: string\r\n}\r\n\r\nexport const RestorePassword = () => {\r\n\r\n    const [showPopUp, setShowPopUp] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = (restoreData: RestorePasswordFormType) => {\r\n        dispatch(restorePasswordTC(restoreData.email));\r\n        setShowPopUp(true);\r\n    }\r\n\r\n    return (\r\n        <div className={s.authFormBlock}>\r\n            <div className={s.authFormWrap}>\r\n                <div className={s.authFormTitle}>Restore password</div>\r\n                <ReduxRestorePasswordForm onSubmit={onSubmit}/>\r\n            </div>\r\n            {\r\n                showPopUp &&\r\n                <div className={sr.restorePasswordPopUp}>\r\n                    <div className={sr.restorePasswordPopUp__content}>\r\n                        <div className={sr.restorePasswordPopUp__info}>Follow the link that has been sent to your\r\n                            email.\r\n                        </div>\r\n                        <Link to={'/login'}>OK</Link>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst RestorePasswordForm: React.FC<InjectedFormProps<RestorePasswordFormType>> = (props: PropsWithChildren<InjectedFormProps<RestorePasswordFormType>>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.authForm}>\r\n            <div className={s.authForm__formGroup}>\r\n                <Field component={Input} name={'email'} type={'email'} placeholder={'enter your email address'}\r\n                       id={'emailRestore'}\r\n                       validate={[fieldRequired]}/>\r\n            </div>\r\n            <div className={s.authForm__formGroup}>\r\n                <button>Restore</button>\r\n            </div>\r\n            <div className={s.authForm__info}>\r\n                Remember password?&nbsp;<Link to={'/login'}>Sign in.</Link>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst ReduxRestorePasswordForm = reduxForm<RestorePasswordFormType>({\r\n    form: 'RestorePasswordForm'\r\n})(RestorePasswordForm);","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {authApi} from \"../../api/authApi\";\r\n\r\nconst SET_NEW_PASSWORD = 'SET_NEW_PASSWORD';\r\nconst ERROR = 'ERROR';\r\nconst LOADING = 'LOADING';\r\n\r\ntype SetNewPasswordACType = {\r\n    type: typeof SET_NEW_PASSWORD\r\n    passwordIsSet: boolean\r\n};\r\ntype ErrorACType = {\r\n    type: typeof ERROR\r\n    error: string | null\r\n};\r\ntype LoadingACType = {\r\n    type: typeof LOADING\r\n    isLoading: boolean\r\n};\r\n\r\nconst setNewPassword = (passwordIsSet: boolean): SetNewPasswordACType => {\r\n    return {\r\n        type: SET_NEW_PASSWORD,\r\n        passwordIsSet,\r\n    }\r\n};\r\nexport const errorAC = (error: string | null): ErrorACType => {\r\n    return {\r\n        type: ERROR,\r\n        error,\r\n    }\r\n};\r\nexport const loadingAC = (isLoading: boolean): LoadingACType => {\r\n    return {\r\n        type: LOADING,\r\n        isLoading,\r\n    }\r\n};\r\n\r\ntype ActionTypes = SetNewPasswordACType | ErrorACType | LoadingACType;\r\n\r\nexport type SetNewPasswordStateType = {\r\n    passwordIsSet: boolean\r\n    isLoading: boolean\r\n    error: string | null\r\n};\r\n\r\nconst SetNewPasswordInitState: SetNewPasswordStateType = {\r\n    passwordIsSet: false,\r\n    isLoading: false,\r\n    error: null,\r\n};\r\n\r\nexport const newPassword = (state: SetNewPasswordStateType = SetNewPasswordInitState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case SET_NEW_PASSWORD:\r\n            return {...state, passwordIsSet: action.passwordIsSet};\r\n        case ERROR:\r\n            return {...state, error: action.error};\r\n        case LOADING:\r\n            return {...state, isLoading: action.isLoading};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\ntype ThunkType = ThunkAction<void, AppRootStateType, {}, ActionTypes>;\r\nexport const setNewPasswordTC = (password: string, resetPasswordToken: string): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        await authApi.setNewPassword(password, resetPasswordToken);\r\n        dispatch(setNewPassword(true));\r\n        dispatch(loadingAC(false));\r\n    } catch (e) {\r\n        dispatch(loadingAC(false));\r\n        console.log(e.response.data.error)\r\n        dispatch(errorAC(e.response.data.error));\r\n        setTimeout(() => {\r\n            dispatch(errorAC(null));\r\n        }, 3000)\r\n    }\r\n};\r\nexport const errorTC = (): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(errorAC('Passwords do not match.'));\r\n    setTimeout(() => {\r\n        dispatch(errorAC(null));\r\n    }, 3000)\r\n};","import React, {PropsWithChildren} from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport s from \"../authStyles/authStyles.module.css\";\r\nimport {Input} from \"../../utils/formFields/formFields\";\r\nimport {fieldRequired, minLength} from \"../../utils/formValidation/formValidation\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Redirect, RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {errorTC, SetNewPasswordStateType, setNewPasswordTC} from \"../../reducers/authReducers/newPasswordReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {AuthLoading} from \"../../utils/loading/authLoading/AuthLoading\";\r\n\r\ntype ParamsType = {\r\n    token: string\r\n}\r\ntype PropsType = RouteComponentProps<ParamsType>\r\n\r\ntype SetNewPasswordFormType = {\r\n    password: string\r\n    repeatPassword: string\r\n};\r\n\r\nconst NewPassword = (props: PropsType) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const setNewPasswordState = useSelector<AppRootStateType, SetNewPasswordStateType>(state => state.newPassword);\r\n    const {passwordIsSet, isLoading, error} = setNewPasswordState;\r\n\r\n\r\n    const onSubmit = (newData: SetNewPasswordFormType) => {\r\n        const token = props.match.params.token;\r\n\r\n        if (newData.password === newData.repeatPassword) {\r\n            dispatch(setNewPasswordTC(newData.password, token))\r\n        } else {\r\n            dispatch(errorTC());\r\n            return;\r\n        }\r\n    }\r\n\r\n    if (passwordIsSet) {\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.authFormBlock}>\r\n            <div className={s.authFormWrap}>\r\n                <div className={s.authFormTitle}>New password</div>\r\n                <ReduxSetNewPasswordForm onSubmit={onSubmit}/>\r\n                {\r\n                    isLoading &&\r\n                    <AuthLoading/>\r\n                }\r\n            </div>\r\n            {\r\n                error &&\r\n                <div className={s.authFormError}>\r\n                    {error}\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n};\r\nconst minLengthValidation = minLength(8);\r\nconst SetNewPasswordForm: React.FC<InjectedFormProps<SetNewPasswordFormType>> = (props: PropsWithChildren<InjectedFormProps<SetNewPasswordFormType>>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.authForm}>\r\n            <div className={s.authForm__formGroup}>\r\n                <Field component={Input} type={'password'}\r\n                       placeholder={'password'} validate={[fieldRequired, minLengthValidation]}\r\n                       id={'newPassword'} name={'password'}/>\r\n            </div>\r\n            <div className={s.authForm__formGroup}>\r\n                <Field component={Input} placeholder={'repeat password'} type={'password'}\r\n                       validate={[fieldRequired]}\r\n                       id={'newRepeatPassword'} name={'repeatPassword'}/>\r\n            </div>\r\n            <div className={s.authForm__formGroup}>\r\n                <button>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst ReduxSetNewPasswordForm = reduxForm<SetNewPasswordFormType>({\r\n    form: 'SetNewPasswordForm'\r\n})(SetNewPasswordForm);\r\n\r\nexport const NewPasswordWithRouter = withRouter(NewPassword);","import { ThunkAction, ThunkDispatch } from \"redux-thunk\";\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {authApi} from \"../api/authApi\";\r\nimport {authMeAC, AuthMeACType} from \"../reducers/authReducers/loginReducer\";\r\n\r\nconst APP_INITIALIZED = 'APP_INITIALIZED';\r\n\r\ntype AppInitACType = {\r\n    type: typeof APP_INITIALIZED\r\n    isInit: boolean\r\n};\r\n\r\nconst appInitAC = (isInit: boolean): AppInitACType => {\r\n    return {\r\n        type: APP_INITIALIZED,\r\n        isInit\r\n    }\r\n};\r\n\r\ntype ActionTypes = AppInitACType | AuthMeACType;\r\n\r\nexport type AppStateType = {\r\n    isInit: boolean\r\n};\r\n\r\nconst appInitialState: AppStateType = {\r\n    isInit: false\r\n};\r\n\r\nexport const appReducer = (state: AppStateType = appInitialState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case APP_INITIALIZED:\r\n            return {...state, isInit: action.isInit};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\ntype ThunkType = ThunkAction<void, AppRootStateType, {}, ActionTypes>;\r\nexport const appInitializedTC = ():ThunkType  => async (dispatch: ThunkDispatch<AppStateType, {}, ActionTypes>) => {\r\n    try {\r\n        const res = await authApi.authMe();\r\n        dispatch(authMeAC(true, res));\r\n        dispatch(appInitAC(true));\r\n    } catch (e) {\r\n        dispatch(appInitAC(true));\r\n        console.log(e.response.data.error)\r\n    }\r\n\r\n}\r\n","import React from \"react\";\r\nimport './AppInitLoading.css';\r\n\r\nexport const AppInitLoading = () => {\r\n    return (\r\n        <div className=\"loadingio-spinner-gear-pzuuy69rnz\">\r\n            <div className=\"ldio-ookrzkze3oj\">\r\n                <div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport s from './Header.module.scss';\r\nimport {Link, RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {logoutTC} from \"../reducers/authReducers/loginReducer\";\r\n\r\ntype RoutePropsType = {}\r\ntype OtherPropsType = {}\r\ntype PropsType = RouteComponentProps<RoutePropsType> & OtherPropsType;\r\n\r\nconst HeaderComponent = (props: PropsType) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const logout = () => {\r\n        dispatch(logoutTC())\r\n    };\r\n\r\n    const {history} = props;\r\n    const currentUrl = history.location.pathname;\r\n\r\n    return (\r\n        <div className={s.header}>\r\n            <div className={'container'}>\r\n                <div className={s.headerNav}>\r\n                    <Link to={'/'}\r\n                          className={currentUrl === '/' ? `${s.headerNav__link} ${s.active}` : `${s.headerNav__link}`}>Profile</Link>\r\n                    <Link to={'/packs'}\r\n                          className={currentUrl === '/packs' ? `${s.headerNav__link} ${s.active}` : `${s.headerNav__link}`}>Packs</Link>\r\n                </div>\r\n                <div className={s.header__logout} onClick={logout}>Logout</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Header = withRouter(HeaderComponent);","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    withCredentials: true,\r\n});\r\n\r\nexport type CardInPackType = {\r\n    _id: string\r\n    user_id: string\r\n    name: string\r\n    path: string\r\n    grade: number\r\n    shots: number\r\n    rating: number\r\n    type: string\r\n    created: string\r\n    updated: string\r\n    __v: number\r\n    cardsCount: number\r\n}\r\nexport type GetPacksReturnObject = {\r\n    cardPacks: Array<CardInPackType>\r\n    cardPacksTotalCount: number\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number\r\n    pageCount: number\r\n}\r\n\r\nexport interface ParamTypes extends Record<string, any> {\r\n    packName?: string | number\r\n    min?: string | number\r\n    max?: string | number\r\n    sortPacks?: string\r\n    page: number\r\n    pageCount: number\r\n    user_id?: string | number\r\n}\r\n\r\nexport type CreatePackObject = {\r\n    name?: string\r\n    path?: string\r\n    grade?: number\r\n    shots?: number\r\n    rating?: number\r\n    deckCover?: string\r\n    private?: boolean\r\n    type?: string\r\n}\r\nexport type EditPackObject = {\r\n    _id: string\r\n    name?: string\r\n}\r\nexport type SearchObject = {\r\n    packName?: string\r\n    cardAnswer?: string\r\n    cardQuestion?: string\r\n}\r\n\r\nexport const packsApi = {\r\n    getPacks(params: ParamTypes) {\r\n\r\n        let paramString: string = '';\r\n\r\n        for (let i in params) {\r\n            paramString = paramString.concat(`${i}=${params[i]}&`)\r\n        }\r\n\r\n        return instance\r\n            .get(`cards/pack?${paramString}`)\r\n            .then((res) => {\r\n                return res.data;\r\n            })\r\n    },\r\n    createPack(cardsPack: CreatePackObject) {\r\n        return instance\r\n            .post(`cards/pack`,{\r\n                cardsPack\r\n            })\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    editPack(cardsPack: EditPackObject) {\r\n        return instance\r\n            .put(`cards/pack`, {\r\n                cardsPack\r\n            })\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    deletePack(id: string) {\r\n        return instance\r\n            .delete(`cards/pack?id=${id}`)\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n}\r\n","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {CreatePackObject, EditPackObject, GetPacksReturnObject, packsApi, ParamTypes} from \"../../api/packsApi\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\n\r\nconst LOADING = 'LOADING';\r\nconst GET_PACKS = 'GET_PACKS';\r\nconst SORT = 'SORT';\r\nconst SET_SORT_PARAM = 'SET_SORT_PARAM';\r\nconst SHOW_MY_PACKS = 'SHOW_MY_PACKS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_SHOW_BY = 'SET_SHOW_BY';\r\nconst CHANGE_PORTION = 'CHANGE_PORTION';\r\nconst SET_PORTION = 'SET_PORTION';\r\n\r\ntype GetPacksACType = {\r\n    type: typeof GET_PACKS\r\n    payload: GetPacksReturnObject\r\n};\r\ntype SortACType = {\r\n    type: typeof SORT\r\n};\r\ntype SetSortParamACType = {\r\n    type: typeof SET_SORT_PARAM\r\n    sortParam: string\r\n};\r\ntype ShowMyPacksACType = {\r\n    type: typeof SHOW_MY_PACKS\r\n    showMyPacks: boolean\r\n    page: number\r\n};\r\ntype SetCurrentPageACType = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    page: number\r\n};\r\ntype SetShowByACType = {\r\n    type: typeof SET_SHOW_BY\r\n    pageCount: number\r\n};\r\ntype ChangePortionACType = {\r\n    type: typeof CHANGE_PORTION\r\n    flag: boolean\r\n};\r\ntype SetPortionACType = {\r\n    type: typeof SET_PORTION\r\n    portion: number\r\n};\r\ntype LoadingACType = {\r\n    type: typeof LOADING\r\n    isLoading: boolean\r\n};\r\n\r\nconst getPacksAC = (payload: GetPacksReturnObject): GetPacksACType => {\r\n    return {\r\n        type: GET_PACKS,\r\n        payload,\r\n    }\r\n};\r\nconst sortAC = (): SortACType => {\r\n    return {\r\n        type: SORT\r\n    }\r\n};\r\nconst setSortParamAC = (sortParam: string): SetSortParamACType => {\r\n    return {\r\n        type: SET_SORT_PARAM,\r\n        sortParam,\r\n    }\r\n};\r\nconst showMyPacksAC = (showMyPacks: boolean, page: number): ShowMyPacksACType => {\r\n    return {\r\n        type: SHOW_MY_PACKS,\r\n        showMyPacks,\r\n        page\r\n    }\r\n};\r\nconst setCurrentPageAC = (page: number): SetCurrentPageACType => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        page\r\n    }\r\n};\r\nconst setShowByAC = (pageCount: number): SetShowByACType => {\r\n    return {\r\n        type: SET_SHOW_BY,\r\n        pageCount\r\n    }\r\n};\r\nconst changePortionAC = (flag: boolean): ChangePortionACType => {\r\n    return {\r\n        type: CHANGE_PORTION,\r\n        flag\r\n    }\r\n};\r\nconst setPortionAC = (portion: number): SetPortionACType => {\r\n    return {\r\n        type: SET_PORTION,\r\n        portion\r\n    }\r\n};\r\nconst loadingAC = (isLoading: boolean): LoadingACType => {\r\n    return {\r\n        type: LOADING,\r\n        isLoading\r\n    }\r\n};\r\n\r\ntype ActionTypes =\r\n    GetPacksACType\r\n    | SortACType\r\n    | ShowMyPacksACType\r\n    | SetCurrentPageACType\r\n    | SetShowByACType\r\n    | ChangePortionACType\r\n    | SetPortionACType\r\n    | LoadingACType\r\n    | SetSortParamACType;\r\n\r\nexport type PackStateType = {\r\n    fromServer: GetPacksReturnObject\r\n    sortBy: boolean\r\n    sortParam: string\r\n    onlyMyPacks: boolean\r\n    currentPortion: number\r\n    isLoading: false\r\n};\r\n\r\nconst initState: PackStateType = {\r\n    fromServer: {\r\n        cardPacks: [],\r\n        cardPacksTotalCount: 0,\r\n        maxCardsCount: 0,\r\n        minCardsCount: 0,\r\n        page: 1,\r\n        pageCount: 5,\r\n    },\r\n    sortBy: true,\r\n    sortParam: '',\r\n    onlyMyPacks: false,\r\n    currentPortion: 1,\r\n    isLoading: false,\r\n};\r\n\r\nexport const packsReducer = (state: PackStateType = initState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case GET_PACKS:\r\n            return {\r\n                ...state,\r\n                fromServer: {\r\n                    ...state.fromServer,\r\n                    cardPacks: action.payload.cardPacks,\r\n                    cardPacksTotalCount: action.payload.cardPacksTotalCount\r\n                }\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, fromServer: {...state.fromServer, page: action.page}};\r\n        case SET_SHOW_BY:\r\n            return {...state, fromServer: {...state.fromServer, pageCount: action.pageCount}};\r\n        case CHANGE_PORTION:\r\n            return {...state, currentPortion: action.flag ? state.currentPortion + 1 : state.currentPortion - 1};\r\n        case SET_PORTION:\r\n            return {...state, currentPortion: action.portion};\r\n        case SET_SORT_PARAM:\r\n            return {...state, sortParam: action.sortParam};\r\n        case SORT:\r\n            return {...state, sortBy: !state.sortBy};\r\n        case SHOW_MY_PACKS:\r\n            return {...state, onlyMyPacks: action.showMyPacks, fromServer: {...state.fromServer, page: action.page}};\r\n        case LOADING:\r\n            return {...state, isLoading: action.isLoading};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\ntype ThunkType = ThunkAction<void, AppRootStateType, {}, ActionTypes>;\r\n\r\nexport const getPacksTC = (params: ParamTypes): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        const res = await packsApi.getPacks(params);\r\n        dispatch(getPacksAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const createPackTC = (params: ParamTypes, payload: CreatePackObject): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        await packsApi.createPack(payload);\r\n        const res = await packsApi.getPacks(params);\r\n        dispatch(getPacksAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const editPackTC = (params: ParamTypes, payload: EditPackObject): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        await packsApi.editPack(payload);\r\n        const res = await packsApi.getPacks(params);\r\n        dispatch(getPacksAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const deletePackTC = (params: ParamTypes, id: string): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        await packsApi.deletePack(id);\r\n        const res = await packsApi.getPacks(params);\r\n        dispatch(getPacksAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const sortTC = (params: ParamTypes): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        dispatch(sortAC());\r\n        if (params.sortPacks) {\r\n            dispatch(setSortParamAC(params.sortPacks))\r\n        }\r\n        const res = await packsApi.getPacks(params);\r\n        dispatch(getPacksAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const showOnlyMyPacksTC = (params: ParamTypes, showMyPacks: boolean): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        dispatch(showMyPacksAC(showMyPacks, params.page));\r\n        const res = await packsApi.getPacks(params);\r\n        dispatch(getPacksAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const changePageTC = (params: ParamTypes): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        dispatch(setCurrentPageAC(params.page));\r\n        const res = await packsApi.getPacks(params);\r\n        dispatch(getPacksAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const showByTC = (params: ParamTypes): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        dispatch(setShowByAC(params.pageCount));\r\n        const res = await packsApi.getPacks(params);\r\n        dispatch(getPacksAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const changePortionTC = (flag: boolean): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        dispatch(changePortionAC(flag));\r\n    } catch (error) {\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const setPortionTC = (portion: number): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        dispatch(setPortionAC(portion));\r\n    } catch (error) {\r\n        console.log(error.response.data.error);\r\n    }\r\n};","import React from \"react\";\r\nimport s from './Sorting.module.scss';\r\n\r\ntype PropsType = {\r\n    sortDirection: string\r\n    onlyMyPacks?: boolean\r\n    sortRegular: (sortDirection: string) => void\r\n    sortCheck?: () => void\r\n}\r\n\r\nexport const Sorting = (props: PropsType) => {\r\n\r\n    const {sortDirection, onlyMyPacks, sortRegular, sortCheck} = props;\r\n\r\n    const radioSort = <div className={s.sortCheck}>\r\n        <input type={'checkbox'} id={'radioMyPacks'} checked={onlyMyPacks} onChange={sortCheck}/>\r\n        <label htmlFor=\"radioMyPacks\">only my packs</label>\r\n    </div>\r\n    const regularSort = <button className={s.sortBtn} onClick={() => sortRegular(sortDirection)}>{sortDirection}</button>\r\n    const sortTypeCheck = sortDirection === 'user_id' ? radioSort : regularSort;\r\n\r\n    return (\r\n        <>\r\n            {sortTypeCheck}\r\n        </>\r\n    )\r\n}","import React from \"react\";\r\nimport s from './Pack.module.scss';\r\nimport {CardInPackType} from \"../../api/packsApi\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {deletePackTC, PackStateType} from \"../../reducers/packsReducer/packsReducer\";\r\nimport {AuthStateType} from \"../../reducers/authReducers/loginReducer\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\ntype PropsType = CardInPackType & {\r\n    toggleEditPackPopUp: (_id: string) => void\r\n};\r\n\r\nexport const Pack = (props: PropsType) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const packsState = useSelector<AppRootStateType, PackStateType>(state => state.packsReducer);\r\n    const {fromServer, onlyMyPacks} = packsState;\r\n\r\n    const authState = useSelector<AppRootStateType, AuthStateType>(state => state.authReducer);\r\n    const {userProfile} = authState;\r\n\r\n    const {name, cardsCount, created, _id, user_id, toggleEditPackPopUp} = props;\r\n\r\n    const deletePack = (id: string) => {\r\n        const checkFlag = onlyMyPacks ? `${userProfile._id}` : '';\r\n        dispatch(deletePackTC({page: fromServer.page, pageCount: fromServer.pageCount, user_id: checkFlag}, id))\r\n    }\r\n    const editPackHandler = () => {\r\n        toggleEditPackPopUp(_id);\r\n    }\r\n\r\n    const disabledDeleteBtn = userProfile._id === user_id ? `${s.pack__btn} ${s.pack__btn_del}` : `${s.pack__btn} ${s.disabled}`;\r\n    const disabledEditBtn = userProfile._id === user_id ? `${s.pack__btn} ${s.pack__btn_edit}` : `${s.pack__btn} ${s.disabled}`;\r\n\r\n    return (\r\n        <div className={s.pack}>\r\n\r\n            <div className={s.pack__row}>\r\n                <div>{name}</div>\r\n                <div>{cardsCount}</div>\r\n                <div>{created}</div>\r\n            </div>\r\n\r\n            <div className={s.pack__interface}>\r\n                <Link className={s.pack__btn} to={`/cards/${_id}`}>Open</Link>\r\n                <button className={disabledEditBtn} onClick={editPackHandler}>Edit</button>\r\n                <button className={disabledDeleteBtn} onClick={() => deletePack(_id)}>Delete</button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React, {PropsWithChildren} from \"react\";\r\nimport s from './AddPack.module.scss';\r\nimport s2 from '../../utils/formFields/formField.module.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {createPackTC, PackStateType} from \"../../reducers/packsReducer/packsReducer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {CreatePackObject} from \"../../api/packsApi\";\r\nimport {Input} from \"../../utils/formFields/formFields\";\r\nimport {fieldRequired} from \"../../utils/formValidation/formValidation\";\r\nimport {AuthStateType} from \"../../reducers/authReducers/loginReducer\";\r\n\r\ntype PropsType = {\r\n    toggleCreatePackPopUp: () => void\r\n}\r\n\r\nexport const AddPack = (props: PropsType) => {\r\n\r\n    const {toggleCreatePackPopUp} = props;\r\n\r\n    const dispatch = useDispatch();\r\n    const packsState = useSelector<AppRootStateType, PackStateType>(state => state.packsReducer);\r\n    const {fromServer, onlyMyPacks} = packsState;\r\n\r\n    const authState = useSelector<AppRootStateType, AuthStateType>(state => state.authReducer);\r\n    const {userProfile} = authState;\r\n\r\n    const onSubmit = (formData: CreatePackObject) => {\r\n        const checkFlag = onlyMyPacks ? `${userProfile._id}` : '';\r\n        dispatch(createPackTC(\r\n            {\r\n                page: fromServer.page,\r\n                pageCount: fromServer.pageCount,\r\n                user_id: checkFlag,\r\n            },\r\n            {\r\n                name: formData.name,\r\n                private: formData.private = false\r\n            }));\r\n        toggleCreatePackPopUp();\r\n    }\r\n\r\n    const onClose = () => {\r\n        toggleCreatePackPopUp()\r\n    }\r\n\r\n    return (\r\n        <div className={s.createPack}>\r\n            <div className={s.createPack__formWrap}>\r\n                <div className={s.close} onClick={onClose}></div>\r\n                <AddPackReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst AddPackForm: React.FC<InjectedFormProps<CreatePackObject>> = (props: PropsWithChildren<InjectedFormProps<CreatePackObject>>) => {\r\n\r\n    return (\r\n        <form className={s.createPack__form} onSubmit={props.handleSubmit}>\r\n            <div className={s.createPack__formGroup}>\r\n                <Field component={Input} type={'text'} name={'name'} placeholder={'pack name'}\r\n                       validate={[fieldRequired]}/>\r\n            </div>\r\n            <div className={s2.checkboxGroup}>\r\n                <Field component={Input} type={'checkbox'} name={'private'} id={'checkboxAddPack'}/>\r\n                <label htmlFor=\"checkboxAddPack\">Private</label>\r\n            </div>\r\n            <button>Create</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst AddPackReduxForm = reduxForm<CreatePackObject>({\r\n    form: 'AddPackForm'\r\n})(AddPackForm);","import React, {PropsWithChildren} from \"react\";\r\nimport s from './EditPack.module.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {editPackTC, PackStateType} from \"../../reducers/packsReducer/packsReducer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {EditPackObject} from \"../../api/packsApi\";\r\nimport {Input} from \"../../utils/formFields/formFields\";\r\nimport {fieldRequired} from \"../../utils/formValidation/formValidation\";\r\nimport {AuthStateType} from \"../../reducers/authReducers/loginReducer\";\r\n\r\ntype PropsType = {\r\n    toggleEditPackPopUp: (_id: string) => void\r\n    id: string\r\n}\r\n\r\nexport const EditPack = (props: PropsType) => {\r\n\r\n    const {toggleEditPackPopUp, id} = props;\r\n\r\n    const dispatch = useDispatch();\r\n    const packsState = useSelector<AppRootStateType, PackStateType>(state => state.packsReducer);\r\n    const {fromServer, onlyMyPacks} = packsState;\r\n\r\n    const authState = useSelector<AppRootStateType, AuthStateType>(state => state.authReducer);\r\n    const {userProfile} = authState;\r\n\r\n    const onSubmit = (formData: EditPackObject) => {\r\n        const checkFlag = onlyMyPacks ? `${userProfile._id}` : '';\r\n        dispatch(editPackTC(\r\n            {\r\n                page: fromServer.page,\r\n                pageCount: fromServer.pageCount,\r\n                user_id: checkFlag,\r\n            },\r\n            {\r\n                _id: id,\r\n                name: formData.name,\r\n            }));\r\n        toggleEditPackPopUp('');\r\n    }\r\n\r\n    const onClose = () => {\r\n        toggleEditPackPopUp('')\r\n    }\r\n\r\n    return (\r\n        <div className={s.editPack}>\r\n            <div className={s.editPack__formWrap}>\r\n                <div className={s.close} onClick={onClose}></div>\r\n                <EditPackReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst EditPackForm: React.FC<InjectedFormProps<EditPackObject>> = (props: PropsWithChildren<InjectedFormProps<EditPackObject>>) => {\r\n\r\n    return (\r\n        <form className={s.editPack__form} onSubmit={props.handleSubmit}>\r\n            <div className={s.editPack__formGroup}>\r\n                <Field component={Input} type={'text'} name={'name'} placeholder={'new pack name'} value={'test'}\r\n                       validate={[fieldRequired]}/>\r\n            </div>\r\n            <button>Save</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst EditPackReduxForm = reduxForm<EditPackObject>({\r\n    form: 'EditPackForm'\r\n})(EditPackForm);","import React, {PropsWithChildren, useState} from \"react\";\r\nimport s from './Search.module.scss';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../formFields/formFields\";\r\nimport {SearchObject} from \"../../api/packsApi\";\r\n\r\ntype PropsToReduxType = {\r\n    searchBy: Array<string>\r\n}\r\ntype PropsType = PropsToReduxType & {\r\n    onSearchSubmit: (queryParam: SearchObject) => void\r\n}\r\n\r\nexport const Search = (props: PropsType) => {\r\n\r\n    const {searchBy, onSearchSubmit} = props;\r\n\r\n    const onSubmit = (formData: SearchObject) => {\r\n        const query = formData;\r\n        if (query) {\r\n            onSearchSubmit(query);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.searchBlock}>\r\n            <SearchReduxForm onSubmit={onSubmit} searchBy={searchBy}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst SearchForm: React.FC<InjectedFormProps<SearchObject, PropsToReduxType> & PropsToReduxType> = (props: PropsWithChildren<InjectedFormProps<SearchObject, PropsToReduxType>> & PropsToReduxType) => {\r\n\r\n    const {searchBy} = props;\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const [searchParam, setSearchParam] = useState(searchBy[0]);\r\n\r\n    const searchOptionHandler = (param: string) => {\r\n        setSearchParam(param);\r\n        setOpen(prev => !prev);\r\n    }\r\n\r\n    const searchByMap = searchBy.map((i, idx) => <div key={idx} onClick={() => searchOptionHandler(i)}>{i}</div>);\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={s.searchFieldGroup}>\r\n                <Field component={Input} type={'text'} name={`${searchParam}`} placeholder={`search by ${searchParam}`}/>\r\n                <div className={open ? `${s.searchOptions} ${s.open}` : `${s.searchOptions}`}>\r\n                    {searchByMap}\r\n                </div>\r\n            </div>\r\n            <div className={open ? `${s.searchOptionsBtn} ${s.open}` : `${s.searchOptionsBtn}`}\r\n                 onClick={() => setOpen(prev => !prev)}></div>\r\n            <button>Search</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst SearchReduxForm = reduxForm<SearchObject, PropsToReduxType>({form: 'SearchForm'})(SearchForm);","import React, {useState} from \"react\";\r\nimport s from './Pagination.module.scss';\r\n\r\ntype PropsType = {\r\n    currentPage: number\r\n    totalItems: number\r\n    itemsOnPage: number\r\n    pagesInPortion: number\r\n    currentPortion: number\r\n    onPageChange: (page: number) => void\r\n    onShowByChange: (showBy: number) => void\r\n    onPortionChange: (flag: boolean) => void\r\n    setPortionChange: (portion: number) => void\r\n}\r\n\r\nexport const Pagination = (props: PropsType) => {\r\n\r\n    const {currentPage, itemsOnPage, onPageChange, pagesInPortion, totalItems, onShowByChange, onPortionChange, currentPortion, setPortionChange} = props;\r\n\r\n    const onPageChangeHandler = (page: number) => {\r\n        onPageChange(page);\r\n    }\r\n\r\n    const totalPages = Math.ceil(totalItems / itemsOnPage);\r\n    const totalPortions = Math.ceil(totalPages / pagesInPortion);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= totalPages; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const nextPortion = () => {\r\n        onPortionChange(true)\r\n    };\r\n    const prevPortion = () => {\r\n        onPortionChange(false)\r\n    };\r\n\r\n    const firstPageInPortion = (currentPortion - 1) * pagesInPortion + 1;\r\n    const lastPageInPortion = currentPortion * pagesInPortion;\r\n\r\n    const pagesMap = pages\r\n        .filter(f => f >= firstPageInPortion && f <= lastPageInPortion)\r\n        .map(m => {\r\n            return (\r\n                <button key={m} onClick={() => onPageChangeHandler(m)}\r\n                        className={m === currentPage ? `${s.active} + ${s.pageBtn}` : s.pageBtn}>{m}</button>\r\n            )\r\n        })\r\n\r\n    const portionWithLastPage = (page: number) => {\r\n        onPageChange(page);\r\n        setPortionChange(totalPortions);\r\n    };\r\n\r\n    const portionWithFirstPage = (page: number) => {\r\n        onPageChange(page);\r\n        setPortionChange(1);\r\n    };\r\n\r\n    const lastPage = pages.map(page => {\r\n        if (page === pages.length) {\r\n            return (\r\n                <div key={page} className={s.paginationBlock__pre_after}>\r\n                    <div className={s.paginationDots}>...</div>\r\n                    <button onClick={() => portionWithLastPage(page)}\r\n                            className={page === currentPage ? `${s.active} + ${s.pageBtn}` : s.pageBtn}>{page}</button>\r\n                </div>\r\n            )\r\n        }\r\n        return null;\r\n    });\r\n\r\n    const firstPage = pages.map(page => {\r\n        if (page === 1) {\r\n            return (\r\n                <div key={page} className={s.paginationBlock__pre_after}>\r\n                    <button onClick={() => portionWithFirstPage(page)}\r\n                            className={page === currentPage ? `${s.active} + ${s.pageBtn}` : s.pageBtn}>{page}</button>\r\n                    <div className={s.paginationDots}>...</div>\r\n                </div>\r\n            )\r\n        }\r\n        return null;\r\n    });\r\n\r\n    const [openSelect, setOpenSelect] = useState(false);\r\n    const onSelectOpenClick = () => {\r\n        setOpenSelect(!openSelect);\r\n    }\r\n    const showByChange = (showBy: number) => {\r\n        onShowByChange(showBy);\r\n    }\r\n\r\n    return (\r\n        <div className={s.pagination}>\r\n            <div className={s.paginationBlock}>\r\n                {currentPortion > 1 && <button onClick={prevPortion}>prev</button>}\r\n                {currentPortion > 1 && firstPage}\r\n                {pagesMap}\r\n                {currentPortion < totalPortions && lastPage}\r\n                {currentPortion < totalPortions && <button onClick={nextPortion}>next</button>}\r\n            </div>\r\n            <div className={s.paginationSelectBlock}>\r\n                <div className={s.paginationSelectBlock__title}>Show by:</div>\r\n                <div className={openSelect ? `${s.paginationSelect} ${s.open}` : `${s.paginationSelect}`}\r\n                     onClick={onSelectOpenClick}>\r\n                    <div className={s.paginationSelect__current}>{itemsOnPage}</div>\r\n                    <div\r\n                        className={openSelect ? `${s.paginationSelect__options} ${s.open}` : `${s.paginationSelect__options}`}>\r\n                        <div onClick={() => showByChange(5)}>5</div>\r\n                        <div onClick={() => showByChange(10)}>10</div>\r\n                        <div onClick={() => showByChange(15)}>15</div>\r\n                        <div onClick={() => showByChange(20)}>20</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}","import React from \"react\";\r\nimport './PacksLoading.scss';\r\n\r\nexport const PacksLoading = () => {\r\n    return (\r\n        <div className=\"packs-loading\">\r\n            <div className=\"packs-loading__inner\">\r\n                <div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport s from './Packs.module.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {\r\n    changePageTC,\r\n    changePortionTC,\r\n    getPacksTC,\r\n    PackStateType,\r\n    setPortionTC,\r\n    showByTC,\r\n    showOnlyMyPacksTC,\r\n    sortTC\r\n} from \"../reducers/packsReducer/packsReducer\";\r\nimport {Sorting} from \"../utils/sorting/Sorting\";\r\nimport {Pack} from \"./pack/Pack\";\r\nimport {AddPack} from \"./addPack/AddPack\";\r\nimport {EditPack} from \"./editPack/EditPack\";\r\nimport {AuthStateType} from \"../reducers/authReducers/loginReducer\";\r\nimport {Search} from \"../utils/search/Search\";\r\nimport {Pagination} from \"../utils/pagination/Pagination\";\r\nimport {PacksLoading} from \"../utils/loading/packsLoading/PacksLoading\";\r\nimport {reset} from \"redux-form\";\r\nimport { SearchObject } from \"../api/packsApi\";\r\n\r\nexport const Packs = React.memo(() => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const packsState = useSelector<AppRootStateType, PackStateType>(state => state.packsReducer);\r\n    const {fromServer, sortBy, onlyMyPacks, currentPortion, isLoading, sortParam} = packsState;\r\n\r\n    const authState = useSelector<AppRootStateType, AuthStateType>(state => state.authReducer);\r\n    const {userProfile} = authState;\r\n\r\n    // create/edit pop ups\r\n    const [createPackPopUp, setCreatePackPopUp] = useState(false);\r\n    const [editPackPopUp, setEditPackPopUp] = useState('');\r\n\r\n    const toggleCreatePackPopUp = useCallback(() => {\r\n        setCreatePackPopUp(prev => !prev);\r\n    }, []);\r\n    const toggleEditPackPopUp = useCallback((_id: string) => {\r\n        setEditPackPopUp(_id);\r\n    }, []);\r\n    ///\r\n\r\n    // sorting\r\n    const sortRegular = useCallback((sortDirection: string) => {\r\n        const checkFlag = onlyMyPacks ? `${userProfile._id}` : '';\r\n        const sortUrl = sortBy ? `1${sortDirection}` : `0${sortDirection}`;\r\n        dispatch(sortTC({\r\n            page: fromServer.page,\r\n            pageCount: fromServer.pageCount,\r\n            sortPacks: `${sortUrl}`,\r\n            user_id: checkFlag\r\n        }));\r\n    }, [dispatch, onlyMyPacks, sortBy, fromServer.pageCount, fromServer.page, userProfile._id]);\r\n\r\n    const sortCheck = useCallback(() => {\r\n        const checkFlag = onlyMyPacks ? `` : `${userProfile._id}`;\r\n        dispatch(showOnlyMyPacksTC({page: 1, pageCount: fromServer.pageCount, user_id: checkFlag}, !onlyMyPacks));\r\n        dispatch(setPortionTC(1));\r\n    }, [dispatch, onlyMyPacks, fromServer.pageCount, userProfile._id]);\r\n    ///\r\n\r\n    // pagination\r\n    const onPageChange = useCallback((page: number) => {\r\n        const user_id = onlyMyPacks ? `${userProfile._id}` : '';\r\n        const pageCount = fromServer.pageCount;\r\n        const sortPacks = sortParam;\r\n        user_id ? dispatch(changePageTC({page, pageCount, sortPacks, user_id})) : dispatch(changePageTC({page, pageCount, sortPacks}));\r\n    }, [dispatch, onlyMyPacks, fromServer.pageCount, userProfile._id, sortParam]);\r\n\r\n    const onShowByChange = useCallback((pageCount: number) => {\r\n        const checkFlag = onlyMyPacks ? `${userProfile._id}` : '';\r\n        const page = fromServer.page;\r\n        const user_id = checkFlag;\r\n        const sortPacks = sortParam;\r\n        dispatch(showByTC({page, pageCount, sortPacks, user_id}));\r\n    }, [dispatch, onlyMyPacks, fromServer.page, userProfile._id, sortParam]);\r\n\r\n    const onPortionChange = useCallback((flag: boolean) => {\r\n        flag ? dispatch(changePortionTC(true)) : dispatch(changePortionTC(false));\r\n    }, [dispatch]);\r\n\r\n    const setPortionChange = useCallback((portion: number) => {\r\n        dispatch(setPortionTC(portion));\r\n    }, [dispatch]);\r\n    ///\r\n\r\n    //search\r\n    const onSearchSubmit = (queryParam: SearchObject) => {\r\n        if (queryParam.packName) {\r\n            dispatch(getPacksTC({\r\n                page: fromServer.page,\r\n                pageCount: fromServer.pageCount,\r\n                packName: queryParam.packName\r\n            }))\r\n            dispatch(reset('SearchForm'));\r\n        } else {\r\n            dispatch(getPacksTC({\r\n                page: fromServer.page,\r\n                pageCount: fromServer.pageCount,\r\n            }))\r\n            dispatch(reset('SearchForm'));\r\n        }\r\n    }\r\n    ///\r\n\r\n    useEffect(() => {\r\n        const page = fromServer.page;\r\n        const pageCount = fromServer.pageCount;\r\n        dispatch(getPacksTC({page, pageCount, sortParam}));\r\n    }, []);\r\n\r\n    const packsMap = fromServer.cardPacks.map(pack => <Pack key={pack._id} {...pack}\r\n                                                            toggleEditPackPopUp={toggleEditPackPopUp}/>);\r\n\r\n    const sortArray = ['name', 'cardsCount', 'created', 'user_id'];\r\n    const sortMap = sortArray.map((sort, idx) => <Sorting key={idx} sortDirection={sort} onlyMyPacks={onlyMyPacks}\r\n                                                          sortCheck={sortCheck} sortRegular={sortRegular}/>);\r\n\r\n    return (\r\n        <div className={s.packs}>\r\n            <div className={'container'}>\r\n\r\n                <div className={s.packs__interface}>\r\n\r\n                    <button className={s.packs__btn} onClick={toggleCreatePackPopUp}>add new pack</button>\r\n\r\n                    <Search searchBy={['packName']} onSearchSubmit={onSearchSubmit}/>\r\n\r\n                    <div className={s.packs__sortBlock}>\r\n                        <div className={s.packs__sortTitle}>Sort by:</div>\r\n                        <div className={s.packs__sortBtns}>{sortMap}</div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className={s.packsTable}>\r\n\r\n                    <div className={s.packsTable__header}>\r\n                        <div>Pack name</div>\r\n                        <div>Cards</div>\r\n                        <div>Created</div>\r\n                    </div>\r\n\r\n                    {isLoading ? <PacksLoading/> : packsMap}\r\n\r\n                </div>\r\n\r\n                <Pagination currentPage={fromServer.page} itemsOnPage={fromServer.pageCount} onPageChange={onPageChange}\r\n                            pagesInPortion={5} totalItems={fromServer.cardPacksTotalCount}\r\n                            onShowByChange={onShowByChange} onPortionChange={onPortionChange}\r\n                            currentPortion={currentPortion} setPortionChange={setPortionChange}/>\r\n\r\n            </div>\r\n\r\n            {\r\n                createPackPopUp &&\r\n                <AddPack toggleCreatePackPopUp={toggleCreatePackPopUp}/>\r\n            }\r\n            {\r\n                editPackPopUp &&\r\n                <EditPack toggleEditPackPopUp={toggleEditPackPopUp} id={editPackPopUp}/>\r\n            }\r\n        </div>\r\n    )\r\n})","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    withCredentials: true,\r\n});\r\n\r\nexport type CardType = {\r\n    answer: string\r\n    question: string\r\n    cardsPack_id: string\r\n    grade: number\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    created: string\r\n    updated: string\r\n    __v: number\r\n    _id: string\r\n\r\n}\r\nexport type GetCardsResponseObjectType = {\r\n    cards: Array<CardType>\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    page: number\r\n    pageCount: number\r\n}\r\n\r\nexport interface CardsParamTypes extends Record<string, any> {\r\n    cardAnswer?: string\r\n    cardQuestion?: string\r\n    cardsPack_id: string\r\n    min?: number\r\n    max?: number\r\n    sortCards?: string\r\n    page: number\r\n    pageCount: number\r\n}\r\n\r\nexport type CreateCardObject = {\r\n    cardsPack_id: string\r\n    question?: string\r\n    answer?: string\r\n    grade?: number\r\n    shots?: number\r\n    rating?: number\r\n    answerImg?: string\r\n    questionImg?: string\r\n    questionVideo?: string\r\n    answerVideo?: string\r\n    type?: string\r\n}\r\nexport type EditCardObject = {\r\n    _id: string\r\n    question?: string\r\n    answer?: string\r\n    comments?: string\r\n}\r\nexport type SearchCardObject = {\r\n    name: string\r\n}\r\n\r\nexport const cardsApi = {\r\n    getCards(params: CardsParamTypes) {\r\n\r\n        let paramString: string = '';\r\n\r\n        for (let i in params) {\r\n            paramString = paramString.concat(`${i}=${params[i]}&`)\r\n        }\r\n\r\n        return instance\r\n            .get(`cards/card?${paramString}`)\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    createCard(card: CreateCardObject) {\r\n        return instance\r\n            .post(`cards/card`, {\r\n                card\r\n            })\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    editCard(card: EditCardObject) {\r\n        return instance\r\n            .put(`cards/card`, {\r\n                card\r\n            })\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n    deleteCard(id: string) {\r\n        return instance\r\n            .delete(`cards/card?id=${id}`)\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n};","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {\r\n    cardsApi,\r\n    CardsParamTypes,\r\n    CreateCardObject,\r\n    EditCardObject,\r\n    GetCardsResponseObjectType\r\n} from \"../../api/cardsApi\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {packsApi, ParamTypes} from \"../../api/packsApi\";\r\n\r\nconst LOADING = 'LOADING';\r\nconst GET_CARDS = 'GET_CARDS';\r\nconst IS_YOUR_PACK = 'IS_YOUR_PACK';\r\nconst SET_CURRENT_CARDS_PAGE = 'SET_CURRENT_CARDS_PAGE';\r\nconst SET_SHOW_CARDS_BY = 'SET_SHOW_CARDS_BY';\r\nconst CHANGE_CARDS_PORTION = 'CHANGE_CARDS_PORTION';\r\nconst SET_CARDS_PORTION = 'SET_CARDS_PORTION';\r\nconst SORT_CARDS = 'SORT_CARDS';\r\nconst SET_CARDS_SORT_PARAM = 'SET_CARDS_SORT_PARAM';\r\n\r\ntype GetCardsACType = {\r\n    type: typeof GET_CARDS\r\n    payload: GetCardsResponseObjectType\r\n}\r\ntype LoadingACType = {\r\n    type: typeof LOADING\r\n    isLoading: boolean\r\n};\r\ntype IsYourPackACType = {\r\n    type: typeof IS_YOUR_PACK\r\n    isYourPack: boolean\r\n};\r\ntype SetCurrentPageACType = {\r\n    type: typeof SET_CURRENT_CARDS_PAGE\r\n    page: number\r\n};\r\ntype SetShowByACType = {\r\n    type: typeof SET_SHOW_CARDS_BY\r\n    pageCount: number\r\n};\r\ntype ChangePortionACType = {\r\n    type: typeof CHANGE_CARDS_PORTION\r\n    flag: boolean\r\n};\r\ntype SetPortionACType = {\r\n    type: typeof SET_CARDS_PORTION\r\n    portion: number\r\n};\r\ntype SortCardsACType = {\r\n    type: typeof SORT_CARDS\r\n};\r\ntype SetCardsSortParamACType = {\r\n    type: typeof SET_CARDS_SORT_PARAM\r\n    sortParam: string\r\n};\r\n\r\ntype ActionTypes = GetCardsACType | LoadingACType | IsYourPackACType | SetCurrentPageACType | SetShowByACType | ChangePortionACType | SetPortionACType | SortCardsACType | SetCardsSortParamACType;\r\ntype ThunkType = ThunkAction<void, AppRootStateType, {}, ActionTypes>;\r\n\r\nconst loadingAC = (isLoading: boolean): LoadingACType => {\r\n    return {\r\n        type: LOADING,\r\n        isLoading\r\n    }\r\n};\r\nconst getCardsAC = (payload: GetCardsResponseObjectType): GetCardsACType => {\r\n    return {\r\n        type: GET_CARDS,\r\n        payload,\r\n    }\r\n};\r\nexport const isYourPackAC = (isYourPack: boolean): IsYourPackACType => {\r\n    return {\r\n        type: IS_YOUR_PACK,\r\n        isYourPack\r\n    }\r\n};\r\nexport const setCurrentPageAC = (page: number): SetCurrentPageACType => {\r\n    return {\r\n        type: SET_CURRENT_CARDS_PAGE,\r\n        page\r\n    }\r\n};\r\nconst setShowByAC = (pageCount: number): SetShowByACType => {\r\n    return {\r\n        type: SET_SHOW_CARDS_BY,\r\n        pageCount\r\n    }\r\n};\r\nconst changePortionAC = (flag: boolean): ChangePortionACType => {\r\n    return {\r\n        type: CHANGE_CARDS_PORTION,\r\n        flag\r\n    }\r\n};\r\nconst setPortionAC = (portion: number): SetPortionACType => {\r\n    return {\r\n        type: SET_CARDS_PORTION,\r\n        portion\r\n    }\r\n};\r\nconst sortCardsAC = (): SortCardsACType => {\r\n    return {\r\n        type: SORT_CARDS\r\n    }\r\n};\r\nconst setCardsSortParamAC = (sortParam: string): SetCardsSortParamACType => {\r\n    return {\r\n        type: SET_CARDS_SORT_PARAM,\r\n        sortParam,\r\n    }\r\n};\r\n\r\nexport type CardsStateType = {\r\n    fromCardsServer: GetCardsResponseObjectType\r\n    sortBy: boolean\r\n    sortParam: string\r\n    currentPortion: number\r\n    isLoading: false\r\n    isYourPack: boolean,\r\n};\r\n\r\nconst initState: CardsStateType = {\r\n    fromCardsServer: {\r\n        cards: [],\r\n        cardsTotalCount: 0,\r\n        maxGrade: 0,\r\n        minGrade: 0,\r\n        page: 1,\r\n        pageCount: 5,\r\n    },\r\n    sortBy: true,\r\n    sortParam: '',\r\n    currentPortion: 1,\r\n    isLoading: false,\r\n    isYourPack: false,\r\n};\r\n\r\nexport const cardsReducer = (state: CardsStateType = initState, action: ActionTypes) => {\r\n    switch (action.type) {\r\n        case LOADING:\r\n            return {...state, isLoading: action.isLoading};\r\n        case GET_CARDS:\r\n            return {\r\n                ...state,\r\n                fromCardsServer: {\r\n                    ...state.fromCardsServer,\r\n                    cards: action.payload.cards,\r\n                    cardsTotalCount: action.payload.cardsTotalCount\r\n                },\r\n            }\r\n        case IS_YOUR_PACK:\r\n            return {...state, isYourPack: action.isYourPack};\r\n        case SET_SHOW_CARDS_BY:\r\n            return {...state, fromCardsServer: {...state.fromCardsServer, pageCount: action.pageCount}};\r\n        case CHANGE_CARDS_PORTION:\r\n            return {...state, currentPortion: action.flag ? state.currentPortion + 1 : state.currentPortion - 1};\r\n        case SET_CARDS_PORTION:\r\n            return {...state, currentPortion: action.portion};\r\n        case SET_CURRENT_CARDS_PAGE:\r\n            return {...state, fromCardsServer: {...state.fromCardsServer, page: action.page}};\r\n        case SET_CARDS_SORT_PARAM:\r\n            return {...state, sortParam: action.sortParam};\r\n        case SORT_CARDS:\r\n            return {...state, sortBy: !state.sortBy};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const getCardsTC = (params: CardsParamTypes): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        const res = await cardsApi.getCards(params);\r\n        dispatch(getCardsAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const createCardTC = (params: CardsParamTypes, payload: CreateCardObject): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        await cardsApi.createCard(payload);\r\n        const res = await cardsApi.getCards(params);\r\n        dispatch(getCardsAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const editCardTC = (params: CardsParamTypes, payload: EditCardObject): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        await cardsApi.editCard(payload);\r\n        const res = await cardsApi.getCards(params);\r\n        dispatch(getCardsAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const deleteCardTC = (params: CardsParamTypes, id: string): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        await cardsApi.deleteCard(id);\r\n        const res = await cardsApi.getCards(params);\r\n        dispatch(getCardsAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const changePageTC = (params: CardsParamTypes): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        dispatch(setCurrentPageAC(params.page));\r\n        const res = await cardsApi.getCards(params);\r\n        dispatch(getCardsAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const showByTC = (params: CardsParamTypes): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        dispatch(setShowByAC(params.pageCount));\r\n        const res = await cardsApi.getCards(params);\r\n        dispatch(getCardsAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const changePortionTC = (flag: boolean): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        dispatch(changePortionAC(flag));\r\n    } catch (error) {\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const setPortionTC = (portion: number): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        dispatch(setPortionAC(portion));\r\n    } catch (error) {\r\n        console.log(error.response.data.error);\r\n    }\r\n};\r\nexport const sortCardsTC = (params: CardsParamTypes): ThunkType => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    dispatch(loadingAC(true));\r\n    try {\r\n        dispatch(sortCardsAC());\r\n        if (params.sortPacks) {\r\n            dispatch(setCardsSortParamAC(params.sortPacks))\r\n        }\r\n        const res = await cardsApi.getCards(params);\r\n        dispatch(getCardsAC(res));\r\n        dispatch(loadingAC(false));\r\n    } catch (error) {\r\n        dispatch(loadingAC(false));\r\n        console.log(error.response.data.error);\r\n    }\r\n};","import React from \"react\";\r\nimport s from \"./Card.module.scss\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {CardsStateType, deleteCardTC} from \"../../reducers/cardsReducer/cardsReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\n\r\ntype PropsType = {\r\n    question: string\r\n    answer: string\r\n    created: string\r\n    checkIfPackIsYours: number\r\n    id: string\r\n    cardsPack_id: string\r\n    toggleEditPackPopUp: (id: string) => void\r\n}\r\n\r\nexport const Card = (props: PropsType) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const cardsState = useSelector<AppRootStateType, CardsStateType>(state => state.cardsReducer);\r\n    const {fromCardsServer} = cardsState;\r\n\r\n    const {answer, created, question, checkIfPackIsYours, toggleEditPackPopUp, id, cardsPack_id} = props;\r\n\r\n    const deletePack = () => {\r\n        dispatch(deleteCardTC({page: fromCardsServer.page, pageCount: fromCardsServer.pageCount, cardsPack_id}, id))\r\n    }\r\n    const editPackHandler = () => {\r\n        toggleEditPackPopUp(id);\r\n    }\r\n\r\n    const disabledDeleteBtn = checkIfPackIsYours > 0 ? `${s.card__btn} ${s.card__btn_del}` : `${s.card__btn} ${s.disabled}`;\r\n    const disabledEditBtn = checkIfPackIsYours > 0 ? `${s.card__btn} ${s.card__btn_edit}` : `${s.card__btn} ${s.disabled}`;\r\n\r\n    return (\r\n        <div className={s.card}>\r\n            <div className={s.card__row}>\r\n                <div>{question}</div>\r\n                <div>{answer}</div>\r\n                <div>{created}</div>\r\n            </div>\r\n            <div className={s.card__interface}>\r\n                <button className={disabledEditBtn} onClick={editPackHandler}>Edit</button>\r\n                <button className={disabledDeleteBtn} onClick={deletePack}>Delete</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {PropsWithChildren} from \"react\";\r\nimport s from './AddCard.module.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../utils/formFields/formFields\";\r\nimport {fieldRequired} from \"../../utils/formValidation/formValidation\";\r\nimport {CardsStateType, createCardTC} from \"../../reducers/cardsReducer/cardsReducer\";\r\nimport {CreateCardObject} from \"../../api/cardsApi\";\r\n\r\ntype PropsType = {\r\n    toggleCreatePackPopUp: () => void\r\n    cardsPack_id: string\r\n}\r\n\r\nexport const AddCard = (props: PropsType) => {\r\n\r\n    const {toggleCreatePackPopUp, cardsPack_id} = props;\r\n\r\n    const dispatch = useDispatch();\r\n    const cardsState = useSelector<AppRootStateType, CardsStateType>(state => state.cardsReducer);\r\n    const {fromCardsServer} = cardsState;\r\n\r\n    const onSubmit = (formData: CreateCardObject) => {\r\n        dispatch(createCardTC(\r\n            {\r\n                page: fromCardsServer.page,\r\n                pageCount: fromCardsServer.pageCount,\r\n                cardsPack_id,\r\n            },\r\n            {\r\n                cardsPack_id,\r\n                question: formData.question,\r\n                answer: formData.answer,\r\n            }));\r\n        toggleCreatePackPopUp();\r\n    }\r\n\r\n    const onClose = () => {\r\n        toggleCreatePackPopUp()\r\n    }\r\n\r\n    return (\r\n        <div className={s.createCard}>\r\n            <div className={s.createCard__formWrap}>\r\n                <div className={s.close} onClick={onClose}></div>\r\n                <AddCardReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst AddCardForm: React.FC<InjectedFormProps<CreateCardObject>> = (props: PropsWithChildren<InjectedFormProps<CreateCardObject>>) => {\r\n\r\n    return (\r\n        <form className={s.createCard__form} onSubmit={props.handleSubmit}>\r\n            <div className={s.createCard__formGroup}>\r\n                <Field component={Input} type={'text'} name={'question'} placeholder={'question'}\r\n                       validate={[fieldRequired]}/>\r\n            </div>\r\n            <div className={s.createCard__formGroup}>\r\n                <Field component={Input} type={'text'} name={'answer'} placeholder={'answer'}\r\n                       validate={[fieldRequired]}/>\r\n            </div>\r\n            <button>Create card</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst AddCardReduxForm = reduxForm<CreateCardObject>({\r\n    form: 'AddCardForm'\r\n})(AddCardForm);","import React, {PropsWithChildren} from \"react\";\r\nimport s from './EditCard.module.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input, Textarea} from \"../../utils/formFields/formFields\";\r\nimport {EditCardObject} from \"../../api/cardsApi\";\r\nimport {CardsStateType, editCardTC} from \"../../reducers/cardsReducer/cardsReducer\";\r\n\r\ntype PropsType = {\r\n    toggleEditPackPopUp: (_id: string) => void\r\n    id: string\r\n    cardsPack_id: string\r\n}\r\n\r\nexport const EditCard = (props: PropsType) => {\r\n\r\n    const {toggleEditPackPopUp, id, cardsPack_id} = props;\r\n\r\n    const dispatch = useDispatch();\r\n    const cardsState = useSelector<AppRootStateType, CardsStateType>(state => state.cardsReducer);\r\n    const {fromCardsServer} = cardsState;\r\n\r\n    const onSubmit = (formData: EditCardObject) => {\r\n        dispatch(editCardTC(\r\n            {\r\n                page: fromCardsServer.page,\r\n                pageCount: fromCardsServer.pageCount,\r\n                cardsPack_id,\r\n            },\r\n            {\r\n                _id: id,\r\n                question: formData.question,\r\n                answer: formData.answer,\r\n                comments: formData.comments,\r\n            }));\r\n        toggleEditPackPopUp('');\r\n    }\r\n\r\n    const onClose = () => {\r\n        toggleEditPackPopUp('')\r\n    }\r\n\r\n    return (\r\n        <div className={s.editCard}>\r\n            <div className={s.editCard__formWrap}>\r\n                <div className={s.close} onClick={onClose}></div>\r\n                <EditCardReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst EditCardForm: React.FC<InjectedFormProps<EditCardObject>> = (props: PropsWithChildren<InjectedFormProps<EditCardObject>>) => {\r\n\r\n    return (\r\n        <form className={s.editCard__form} onSubmit={props.handleSubmit}>\r\n            <div className={s.editCard__formGroup}>\r\n                <Field component={Input} type={'text'} name={'question'} placeholder={'change question'}/>\r\n            </div>\r\n            <div className={s.editCard__formGroup}>\r\n                <Field component={Input} type={'text'} name={'answer'} placeholder={'change answer'}/>\r\n            </div>\r\n            <div className={s.editCard__formGroup}>\r\n                <Field component={Textarea} type={'text'} name={'comments'} placeholder={'comment'}/>\r\n            </div>\r\n            <button>Save</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst EditCardReduxForm = reduxForm<EditCardObject>({\r\n    form: 'EditCardForm'\r\n})(EditCardForm);","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport s from './Cards.module.scss';\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {\r\n    CardsStateType,\r\n    changePageTC,\r\n    changePortionTC,\r\n    getCardsTC,\r\n    setCurrentPageAC,\r\n    setPortionTC,\r\n    showByTC,\r\n    sortCardsTC\r\n} from \"../reducers/cardsReducer/cardsReducer\";\r\nimport {Search} from \"../utils/search/Search\";\r\nimport {Sorting} from \"../utils/sorting/Sorting\";\r\nimport {Card} from \"./card/Card\";\r\nimport {Pagination} from \"../utils/pagination/Pagination\";\r\nimport {PackStateType} from \"../reducers/packsReducer/packsReducer\";\r\nimport {AuthStateType} from \"../reducers/authReducers/loginReducer\";\r\nimport {AddCard} from \"./addCard/AddCard\";\r\nimport {PacksLoading} from \"../utils/loading/packsLoading/PacksLoading\";\r\nimport {EditCard} from \"./editCard/EditCard\";\r\nimport {reset} from \"redux-form\";\r\nimport {SearchObject} from \"../api/packsApi\";\r\n\r\ntype CardsPackIdType = {\r\n    cardsPack_id: string\r\n}\r\ntype PropsType = RouteComponentProps<CardsPackIdType>;\r\n\r\nconst CardsComponent = (props: PropsType) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const authState = useSelector<AppRootStateType, AuthStateType>(state => state.authReducer);\r\n    const {userProfile} = authState;\r\n\r\n    const cardsState = useSelector<AppRootStateType, CardsStateType>(state => state.cardsReducer);\r\n    const {fromCardsServer, currentPortion, isLoading, sortBy, sortParam} = cardsState;\r\n\r\n    const packsState = useSelector<AppRootStateType, PackStateType>(state => state.packsReducer);\r\n\r\n    const {match} = props;\r\n\r\n    const cardsPack_id = match.params.cardsPack_id;\r\n\r\n    // create/edit pop ups\r\n    const [createPackPopUp, setCreatePackPopUp] = useState(false);\r\n    const [editPackPopUp, setEditPackPopUp] = useState('');\r\n\r\n    const toggleCreatePackPopUp = useCallback(() => {\r\n        setCreatePackPopUp(prev => !prev);\r\n    }, []);\r\n    const toggleEditPackPopUp = useCallback((_id: string) => {\r\n        setEditPackPopUp(_id);\r\n    }, []);\r\n    ///\r\n\r\n    // pagination\r\n    const onPageChange = useCallback((page: number) => {\r\n        const pageCount = fromCardsServer.pageCount;\r\n        const sortCards = sortParam;\r\n        dispatch(changePageTC({page, pageCount, sortCards, cardsPack_id}))\r\n    }, [dispatch, fromCardsServer.pageCount, sortParam]);\r\n\r\n    const onShowByChange = useCallback((pageCount: number) => {\r\n        const page = fromCardsServer.page;\r\n        const sortCards = sortParam;\r\n        dispatch(showByTC({page, pageCount, sortCards, cardsPack_id}));\r\n    }, [dispatch, fromCardsServer.page, sortParam]);\r\n\r\n    const onPortionChange = useCallback((flag: boolean) => {\r\n        flag ? dispatch(changePortionTC(true)) : dispatch(changePortionTC(false));\r\n    }, [dispatch]);\r\n\r\n    const setPortionChange = useCallback((portion: number) => {\r\n        dispatch(setPortionTC(portion));\r\n    }, [dispatch]);\r\n    ///\r\n\r\n    // sorting\r\n    const sortRegular = useCallback((sortDirection: string) => {\r\n        const sortUrl = sortBy ? `1${sortDirection}` : `0${sortDirection}`;\r\n        dispatch(sortCardsTC({\r\n            page: fromCardsServer.page,\r\n            pageCount: fromCardsServer.pageCount,\r\n            sortCards: `${sortUrl}`,\r\n            cardsPack_id\r\n        }));\r\n    }, [dispatch, sortBy, fromCardsServer.pageCount, fromCardsServer.page]);\r\n    ///\r\n\r\n    //search\r\n    const onSearchSubmit = (queryParam: SearchObject) => {\r\n\r\n        if (queryParam.cardAnswer) {\r\n            dispatch(getCardsTC({\r\n                page: fromCardsServer.page,\r\n                pageCount: fromCardsServer.pageCount,\r\n                cardAnswer: queryParam.cardAnswer,\r\n                cardsPack_id\r\n            }))\r\n            dispatch(reset('SearchForm'));\r\n        } else if (queryParam.cardQuestion) {\r\n            dispatch(getCardsTC({\r\n                page: fromCardsServer.page,\r\n                pageCount: fromCardsServer.pageCount,\r\n                cardQuestion: queryParam.cardQuestion,\r\n                cardsPack_id\r\n            }))\r\n            dispatch(reset('SearchForm'));\r\n        } else {\r\n            dispatch(getCardsTC({\r\n                page: fromCardsServer.page,\r\n                pageCount: fromCardsServer.pageCount,\r\n                cardsPack_id\r\n            }))\r\n            dispatch(reset('SearchForm'));\r\n        }\r\n    }\r\n    ///\r\n\r\n    useEffect(() => {\r\n        const page = fromCardsServer.page;\r\n        const pageCount = fromCardsServer.pageCount;\r\n        dispatch(getCardsTC({cardsPack_id, page, pageCount}))\r\n\r\n        return () => {\r\n            dispatch(setPortionTC(1))\r\n            dispatch(setCurrentPageAC(1))\r\n        }\r\n    }, [])\r\n\r\n    const sortArray = ['answer', 'question'];\r\n    const sortMap = sortArray.map((sort, idx) => <Sorting key={idx} sortDirection={sort} sortRegular={sortRegular}/>);\r\n\r\n    const checkIfPackIsYours = packsState.fromServer.cardPacks.filter(f => {\r\n        if (f._id === cardsPack_id && f.user_id === userProfile._id) {\r\n            return f\r\n        }\r\n    });\r\n\r\n    const cardsMap = fromCardsServer.cards.map(card => {\r\n        const {_id, question, answer, created} = card;\r\n        return (\r\n            <Card key={_id} question={question} answer={answer} created={created}\r\n                  checkIfPackIsYours={checkIfPackIsYours.length} toggleEditPackPopUp={toggleEditPackPopUp} id={_id}\r\n                  cardsPack_id={cardsPack_id}/>\r\n        )\r\n    })\r\n\r\n    const isPackEmpty = cardsMap.length < 1 ? <div>There are no cards yet here.</div> : cardsMap;\r\n\r\n    return (\r\n        <div className={s.cards}>\r\n            <div className={'container'}>\r\n\r\n                <div className={s.cards__interface}>\r\n\r\n                    <button className={s.cards__btn} onClick={toggleCreatePackPopUp}>add new card</button>\r\n\r\n                    <Search searchBy={['cardQuestion', 'cardAnswer']} onSearchSubmit={onSearchSubmit}/>\r\n\r\n                    <div className={s.cards__sortBlock}>\r\n                        <div className={s.cards__sortTitle}>Sort by:</div>\r\n                        <div className={s.cards__sortBtns}>{sortMap}</div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className={s.cardsTable}>\r\n\r\n                    <div className={s.cardsTable__header}>\r\n                        <div>Card question</div>\r\n                        <div>Card answer</div>\r\n                        <div>Created</div>\r\n                    </div>\r\n\r\n                    {isLoading ? <PacksLoading/> : isPackEmpty}\r\n\r\n                </div>\r\n\r\n                <Pagination currentPage={fromCardsServer.page} itemsOnPage={fromCardsServer.pageCount}\r\n                            onPageChange={onPageChange}\r\n                            pagesInPortion={5} totalItems={fromCardsServer.cardsTotalCount}\r\n                            onShowByChange={onShowByChange} onPortionChange={onPortionChange}\r\n                            currentPortion={currentPortion} setPortionChange={setPortionChange}/>\r\n\r\n            </div>\r\n\r\n            {\r\n                createPackPopUp &&\r\n                <AddCard toggleCreatePackPopUp={toggleCreatePackPopUp} cardsPack_id={cardsPack_id}/>\r\n            }\r\n            {\r\n                editPackPopUp &&\r\n                <EditCard toggleEditPackPopUp={toggleEditPackPopUp} id={editPackPopUp} cardsPack_id={cardsPack_id}/>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Cards = withRouter(CardsComponent);","import React from \"react\";\r\nimport s from './NotFound.module.scss';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport const NotFound = () => {\r\n    return (\r\n        <div className={s.notFound}>\r\n            <div  className={s.notFound__title}>404</div>\r\n            <div className={s.notFound__text}>page not found</div>\r\n            <Link  className={s.notFound__link} to={'/login'}>To login page.</Link>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from \"react\";\r\nimport './App.css';\r\nimport {Login} from \"../auth/login/Login\";\r\nimport {Registration} from \"../auth/registration/Registration\";\r\nimport {Profile} from \"../auth/profile/Profile\";\r\nimport {RestorePassword} from '../auth/restorePassword/RestorePassword';\r\nimport {NewPasswordWithRouter} from \"../auth/newPassword/NewPassword\";\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {appInitializedTC, AppStateType} from \"./appReducer\";\r\nimport {AppInitLoading} from \"../utils/loading/appInitLoading/AppInitLoading\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport {Header} from \"../header/Header\";\r\nimport {AuthStateType} from \"../reducers/authReducers/loginReducer\";\r\nimport { Packs } from \"../packs/Packs\";\r\nimport { Cards } from \"../cards/Cards\";\r\nimport {NotFound} from \"../notFound/NotFound\";\r\n\r\nexport const App = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const appState = useSelector<AppRootStateType, AppStateType>(state => state.appReducer);\r\n    const {isInit} = appState;\r\n\r\n    const authState = useSelector<AppRootStateType, AuthStateType>(state => state.authReducer);\r\n    const {isAuth} = authState;\r\n\r\n    useEffect(() => {\r\n        dispatch(appInitializedTC());\r\n    }, [dispatch]);\r\n\r\n    if (!isInit) {\r\n        return <AppInitLoading/>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {isAuth && <Header/>}\r\n            <Switch>\r\n                <Route exact path={'/'} render={() => <Profile/>}/>\r\n                <Route exact path={'/packs'} render={() => <Packs/>}/>\r\n                <Route exact path={'/cards/:cardsPack_id'} render={() => <Cards/>}/>\r\n                <Route exact path={'/login'} render={() => <Login/>}/>\r\n                <Route exact path={'/restorePassword'} render={() => <RestorePassword/>}/>\r\n                <Route exact path={'/registration'} render={() => <Registration/>}/>\r\n                <Route exact path={'/set-new-password/:token'} render={() => <NewPasswordWithRouter/>}/>\r\n                <Route render={() => <NotFound/>}/>\r\n            </Switch>\r\n        </div>\r\n    );\r\n}\r\n","\r\nimport  thunkMiddleware from 'redux-thunk';\r\nimport {authReducer} from \"../reducers/authReducers/loginReducer\";\r\nimport {registrationReducer} from \"../reducers/authReducers/registrationReducer\";\r\nimport {restorePasswordReducer} from \"../reducers/authReducers/restorePasswordReducer\";\r\nimport {newPassword} from \"../reducers/authReducers/newPasswordReducer\";\r\nimport {appReducer} from \"../app/appReducer\";\r\nimport { combineReducers, createStore, applyMiddleware } from 'redux';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport {packsReducer} from \"../reducers/packsReducer/packsReducer\";\r\nimport {cardsReducer} from \"../reducers/cardsReducer/cardsReducer\";\r\n\r\nconst rootReducers = combineReducers({\r\n    form: formReducer,\r\n    authReducer,\r\n    registrationReducer,\r\n    restorePasswordReducer,\r\n    newPassword,\r\n    appReducer,\r\n    packsReducer,\r\n    cardsReducer,\r\n});\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducers>;\r\n\r\nexport const store = createStore(rootReducers, applyMiddleware(thunkMiddleware));","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {App} from './app/App';\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport { store } from './store/store';\r\n\r\nReactDOM.render(\r\n    <HashRouter basename={'/'}>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </HashRouter>\r\n    ,\r\n    document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Rf8R\",\"headerNav\":\"Header_headerNav__P5SEh\",\"headerNav__link\":\"Header_headerNav__link__1Fkd2\",\"active\":\"Header_active__Vqznj\",\"header__logout\":\"Header_header__logout__1tHIV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"packs\":\"Packs_packs__9mhdn\",\"packs__interface\":\"Packs_packs__interface__CGJR_\",\"active\":\"Packs_active__2g8Ui\",\"packs__btn\":\"Packs_packs__btn__3HveT\",\"packs__sortBlock\":\"Packs_packs__sortBlock__3eSf1\",\"packs__sortTitle\":\"Packs_packs__sortTitle__NMy8A\",\"packs__sortBtns\":\"Packs_packs__sortBtns__30Aqq\",\"packsTable__header\":\"Packs_packsTable__header__Q1RPt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBlock\":\"Search_searchBlock__2wJ4B\",\"searchFieldGroup\":\"Search_searchFieldGroup__2cyQ-\",\"searchOptionsBtn\":\"Search_searchOptionsBtn__1peqr\",\"open\":\"Search_open__2n8Q3\",\"searchOptions\":\"Search_searchOptions__1PPNj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"Cards_cards__1cdG5\",\"cards__interface\":\"Cards_cards__interface__3pU5N\",\"active\":\"Cards_active__xTTqt\",\"cards__btn\":\"Cards_cards__btn__bGMUu\",\"cards__sortBlock\":\"Cards_cards__sortBlock__-yrmn\",\"cards__sortTitle\":\"Cards_cards__sortTitle__1OTko\",\"cards__sortBtns\":\"Cards_cards__sortBtns__RKwiA\",\"cardsTable__header\":\"Cards_cardsTable__header__37juP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editCard\":\"EditCard_editCard__260xI\",\"editCard__formWrap\":\"EditCard_editCard__formWrap__s4ssX\",\"editCardAnimation\":\"EditCard_editCardAnimation__H2vkj\",\"close\":\"EditCard_close__oRg3c\",\"editCard__form\":\"EditCard_editCard__form__1R3Fv\",\"editCard__formGroup\":\"EditCard_editCard__formGroup__2lQq2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createCard\":\"AddCard_createCard__2XLKN\",\"createCard__formWrap\":\"AddCard_createCard__formWrap__2gFc8\",\"createCardAnimation\":\"AddCard_createCardAnimation__2IpMH\",\"close\":\"AddCard_close__3OFvy\",\"createCard__form\":\"AddCard_createCard__form__19G7F\",\"createCard__formGroup\":\"AddCard_createCard__formGroup__2DCr5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createPack\":\"AddPack_createPack__D8I2N\",\"createPack__formWrap\":\"AddPack_createPack__formWrap__28sjk\",\"createPackAnimation\":\"AddPack_createPackAnimation__1DicS\",\"close\":\"AddPack_close__2Qr5p\",\"createPack__form\":\"AddPack_createPack__form__2NDJj\",\"createPack__formGroup\":\"AddPack_createPack__formGroup__1wH8o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editPack\":\"EditPack_editPack__HmmP9\",\"editPack__formWrap\":\"EditPack_editPack__formWrap__1y4yE\",\"editPackAnimation\":\"EditPack_editPackAnimation__2xT9w\",\"close\":\"EditPack_close__3j5jq\",\"editPack__form\":\"EditPack_editPack__form__2QJsX\",\"editPack__formGroup\":\"EditPack_editPack__formGroup__1-2jU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notFound\":\"NotFound_notFound__1IP9m\",\"notFound__title\":\"NotFound_notFound__title__28PDP\",\"notFound__text\":\"NotFound_notFound__text__3e82U\",\"notFound__link\":\"NotFound_notFound__link__p8rz5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authFormBlock\":\"authStyles_authFormBlock__1MkRR\",\"authFormWrap\":\"authStyles_authFormWrap__1h9Rs\",\"disabled\":\"authStyles_disabled__VEbpM\",\"authFormTitle\":\"authStyles_authFormTitle__2F_7D\",\"authForm\":\"authStyles_authForm__vz244\",\"authForm__formGroup\":\"authStyles_authForm__formGroup__1_Fyz\",\"authForm__checkboxGroup\":\"authStyles_authForm__checkboxGroup__3ln6U\",\"authForm__info\":\"authStyles_authForm__info__G0UFx\",\"authFormError\":\"authStyles_authFormError__3ogzL\",\"authErrorAnimation\":\"authStyles_authErrorAnimation__1Oqgf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formFieldError\":\"formField_formFieldError__1z52X\",\"checkboxGroup\":\"formField_checkboxGroup__2qKVs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"restorePasswordPopUp\":\"RestorePassword_restorePasswordPopUp__UkIgP\",\"restorePasswordPopUp__content\":\"RestorePassword_restorePasswordPopUp__content__2Gp99\",\"restorePopUpAnimation\":\"RestorePassword_restorePopUpAnimation__3bPbn\",\"restorePasswordPopUp__info\":\"RestorePassword_restorePasswordPopUp__info__Yhn_e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sortCheck\":\"Sorting_sortCheck__3N_yI\",\"sortBtn\":\"Sorting_sortBtn__12Eqq\"};"],"sourceRoot":""}